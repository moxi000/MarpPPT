<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç»„ä¼šæ±‡æŠ¥ - FOSæ¡†æ¶å­¦ä¹ ä¸å·¥ä½œè¿›å±•</title>
    
    <!-- MathJax é…ç½® - æ”¯æŒæ•°å­¦å…¬å¼ -->
    <script>
        MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']]
            },
            svg: {
                fontCache: 'global'
            }
        };
    </script>
    <script type="text/javascript" id="MathJax-script" async
        src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
    </script>
    
    <style>
        /* ==================== ä¸»é¢˜å˜é‡ ==================== */
        :root {
            /* é»˜è®¤ä¸»é¢˜ - ä¸“ä¸šè“ */
            --primary-bg: #f8f9fa;
            --secondary-bg: #ffffff;
            --text-color: #2c3e50;
            --header-color: #2563eb;
            --accent-color: #3b82f6;
            --button-bg: #e5e7eb;
            --button-hover-bg: #d1d5db;
            --border-color: #d1d5db;
            --note-bg: #eff6ff;
            --note-border: #3b82f6;
            --shadow-color: rgba(0, 0, 0, 0.1);
            --code-bg: #f3f4f6;
            --code-color: #1f2937;
            /* [æ–°å¢] å­—ä½“ç¼©æ”¾å˜é‡ */
            --font-scale: 1.0; 
        }

        /* æ·±è‰²ä¸»é¢˜ */
        [data-theme="dark"] {
            --primary-bg: #1a1a1a;
            --secondary-bg: #262626;
            --text-color: #e5e5e5;
            --header-color: #60a5fa;
            --accent-color: #3b82f6;
            --button-bg: #404040;
            --button-hover-bg: #525252;
            --border-color: #404040;
            --note-bg: #1e3a5f;
            --note-border: #60a5fa;
            --shadow-color: rgba(0, 0, 0, 0.5);
            --code-bg: #374151;
            --code-color: #f3f4f6;
        }
        /* ç»¿è‰²ä¸»é¢˜ï¼ˆä¼˜åŒ–ï¼šæ›´æ¸…æ–°ã€è‹¹æœé£ï¼‰ */
        [data-theme="green"] {
            --primary-bg: #f6fbf7;    /* æŸ”å’Œæµ…ç»¿åº• */
            --secondary-bg: #ffffff;
            --text-color: #0f2e1d;    /* æ·±ç»¿åä¸­æ€§æ–‡å­— */
            --header-color: #2ec866;  /* ç³»ç»Ÿç»¿é£æ ¼ */
            --accent-color: #34c759;  /* Apple systemGreen */
            --button-bg: #e8f5ea;     /* è½»æµ…æŒ‰é’®èƒŒæ™¯ */
            --button-hover-bg: #dff1e3;
            --border-color: #d6eadb;  /* æŸ”å’Œè¾¹æ¡† */
            --note-bg: #edf9f0;       /* æµ…æç¤ºåº• */
            --note-border: #34c759;
            --code-bg: #f1f6f2;
            --code-color: #0f2e1d;
        }

        /* è–„è·ä¸»é¢˜ï¼ˆæ–°å¢ï¼‰ï¼šæ¸…æ–°è–„è·é’ï¼ŒApple systemMint é£æ ¼ï¼‰ */
        [data-theme="mint"] {
            --primary-bg: #f5fbfa;
            --secondary-bg: #ffffff;
            --text-color: #0f2f2e;
            --header-color: #00c7be;  /* systemMint */
            --accent-color: #20dad0;
            --button-bg: #e6f7f5;
            --button-hover-bg: #d7f2ef;
            --border-color: #cde9e6;
            --note-bg: #edfafa;
            --note-border: #00c7be;
            --code-bg: #eef7f6;
            --code-color: #0f2f2e;
        }

        /* é›è“ä¸»é¢˜ï¼ˆæ–°å¢ï¼‰ï¼šæ²‰ç¨³ç°ä»£ï¼ŒApple systemIndigo é£æ ¼ */
        [data-theme="indigo"] {
            --primary-bg: #f6f7fb;
            --secondary-bg: #ffffff;
            --text-color: #1e2233;
            --header-color: #5856d6;  /* systemIndigo */
            --accent-color: #6b6aed;
            --button-bg: #eceefa;
            --button-hover-bg: #e3e6f8;
            --border-color: #dfe2f3;
            --note-bg: #eef0fb;
            --note-border: #6b6aed;
            --code-bg: #f3f4fa;
            --code-color: #1e2233;
        }

        /* ==================== å…¨å±€æ ·å¼ ==================== */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        html, body { width: 100%; height: 100%; background: var(--primary-bg); color: var(--text-color); font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', 'Microsoft YaHei', 'PingFang SC', sans-serif; overflow: hidden; transition: background-color 0.3s ease, color 0.3s ease; }

        /* ==================== æ¼”ç¤ºå®¹å™¨ ==================== */
        #presentation-container { position: relative; width: 100vw; height: 56.25vw; max-height: 100vh; max-width: 177.78vh; margin: auto; top: 50%; transform: translateY(-50%); background: var(--secondary-bg); box-shadow: 0 10px 40px var(--shadow-color); border-radius: 8px; overflow: hidden; transition: all 0.3s ease; }

        /* ==================== å¹»ç¯ç‰‡åŸºç¡€æ ·å¼ ==================== */
        .slide { width: 100%; height: 100%; padding: 3vw; display: none; flex-direction: column; opacity: 0; transition: opacity 0.5s ease-in-out; position: absolute; }
        .slide.active { display: flex; opacity: 1; z-index: 1; }
        /* ä½¿å†…å®¹åŒºåŸŸåœ¨ Flex å¸ƒå±€ä¸­å¯ä¼¸ç¼©å¹¶æ‰¿æ‹…æ»šåŠ¨ */
        .slide-content { width: 100%; flex: 1 1 auto; min-height: 0; overflow-y: auto; overflow-x: hidden; padding-right: 1vw; }
        .slide-content::-webkit-scrollbar { width: 8px; }
        .slide-content::-webkit-scrollbar-track { background: var(--button-bg); border-radius: 4px; }
        .slide-content::-webkit-scrollbar-thumb { background: var(--border-color); border-radius: 4px; }
        .slide-content::-webkit-scrollbar-thumb:hover { background: var(--button-hover-bg); }

        /* ==================== æ–‡æœ¬ä¸æ ‡é¢˜æ ·å¼ (åº”ç”¨å­—ä½“ç¼©æ”¾) ==================== */
        h1, h2, h3 { color: var(--header-color); margin-bottom: 1.5vw; font-weight: 600; line-height: 1.3; }
        h1 { font-size: calc(3.2vw * var(--font-scale)); border-bottom: 3px solid var(--accent-color); padding-bottom: 1vw; }
        h2 { font-size: calc(2.5vw * var(--font-scale)); border-bottom: 2px solid var(--accent-color); padding-bottom: 0.8vw; }
        h3 { font-size: calc(2.0vw * var(--font-scale)); color: var(--text-color); margin-top: 1vw; }
        p, li { font-size: calc(1.5vw * var(--font-scale)); line-height: 1.8; margin-bottom: 1.2vw; }
        /* åˆ—è¡¨åŸºç¡€é—´è· */
        ul { margin: 1vw 0 1vw 2vw; }
        
        /* æœ‰åºåˆ—è¡¨ï¼šè‡ªå®šä¹‰è®¡æ•°ï¼Œä¿è¯ç¼–å·å§‹ç»ˆåœ¨å®¹å™¨å†…ä¸”ä¸å†…å®¹å¯¹é½ */
        .slide-content ol { counter-reset: ordered; list-style: none; margin: 1vw 0; padding-left: 0; }
        .slide-content ol > li { position: relative; margin-left: 2.2em; }
        .slide-content ol > li::before { counter-increment: ordered; content: counter(ordered) '.'; position: absolute; left: -2.2em; width: 2em; text-align: right; color: var(--text-color); font-weight: 600; }
        strong { color: var(--header-color); font-weight: 600; }
        .text-sm { font-size: calc(1.2vw * var(--font-scale)); }
        .text-center { text-align: center; }
        a { color: var(--header-color); text-decoration: none; }
        a:hover { text-decoration: underline; }

        /* æ ‡é¢˜é¡µå¸ƒå±€ (åº”ç”¨å­—ä½“ç¼©æ”¾) */
        .title-slide { display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; background: linear-gradient(135deg, var(--secondary-bg) 0%, var(--primary-bg) 100%); overflow: hidden; }
        .title-slide h1 { font-size: calc(4vw * var(--font-scale)); border: none; margin-bottom: 2vw; background: linear-gradient(90deg, var(--header-color), var(--accent-color)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; }
        .title-slide .subtitle { font-size: calc(2vw * var(--font-scale)); color: var(--text-color); opacity: 0.8; margin-bottom: 3vw; }
        .title-slide .author { font-size: calc(1.8vw * var(--font-scale)); margin-bottom: 0.5vw; }
        .title-slide .institution { font-size: calc(1.5vw * var(--font-scale)); margin-bottom: 0.5vw; }
        .title-slide .date { font-size: calc(1.3vw * var(--font-scale)); opacity: 0.6; }
        
        /* å¸ƒå±€ä¸ç»„ä»¶ (åº”ç”¨å­—ä½“ç¼©æ”¾) */
        .columns { display: flex; gap: 2vw; width: 100%; align-items: flex-start; }
        .column { flex: 1; min-width: 0; }
        .column-45 { flex: 0 0 45%; }
        .column-55 { flex: 0 0 55%; }
        figure { margin: 1vw 0; text-align: center; }
        img { max-width: 100%; max-height: 60vh; height: auto; border-radius: 8px; box-shadow: 0 4px 12px var(--shadow-color); }
        figcaption { margin-top: 0.8vw; font-size: calc(1.1vw * var(--font-scale)); color: var(--text-color); opacity: 0.7; font-style: italic; }
        img.clickable { cursor: zoom-in; transition: transform 0.3s, box-shadow 0.3s; }
        img.clickable:hover { transform: scale(1.02); box-shadow: 0 8px 20px var(--shadow-color); }
        pre { background: var(--code-bg); color: var(--code-color); padding: 1vw; margin: 1vw 0; border-radius: 6px; font-size: calc(1.1vw * var(--font-scale)); line-height: 1.6; overflow-x: auto; max-height: 45vh; }
        .note { padding: 1vw 1.2vw; margin-top: 1.5vw; border-radius: 8px; border-left: 4px solid var(--note-border); background: var(--note-bg); font-size: calc(1.3vw * var(--font-scale)); }
        table { width: 90%; margin: 1.5vw auto; border-collapse: collapse; font-size: calc(1.3vw * var(--font-scale)); box-shadow: 0 2px 8px var(--shadow-color); border-radius: 8px; overflow: hidden; }
        th, td { padding: 1vw; text-align: center; border-bottom: 1px solid var(--border-color); }
        th { background: var(--button-bg); color: var(--header-color); font-weight: 600; }
        tbody tr:nth-child(even) { background-color: var(--primary-bg); }
        tbody tr:hover { background: var(--button-hover-bg); transition: background 0.3s ease; }

        /* ==================== å›¾ç‰‡å…¨å±å±•ç¤º ==================== */
        #image-lightbox { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.9); display: none; align-items: center; justify-content: center; z-index: 2000; opacity: 0; transition: opacity 0.3s ease-in-out; padding: 20px; box-sizing: border-box; }
        #image-lightbox.visible { display: flex; opacity: 1; }
        #image-lightbox.fit-width { overflow-y: auto; align-items: flex-start; }
        #lightbox-img { max-width: 100%; max-height: 100%; object-fit: contain; box-shadow: 0 0 30px rgba(0,0,0,0.5); border-radius: 8px; }
        #image-lightbox.fit-width #lightbox-img { width: 100%; max-width: 100%; max-height: none; margin-top: 60px; margin-bottom: 20px; }
        .lightbox-close, .lightbox-toggle { position: absolute; top: 20px; color: white; background-color: rgba(30, 30, 30, 0.7); border: none; cursor: pointer; border-radius: 5px; padding: 8px 15px; font-family: sans-serif; transition: background-color 0.2s; z-index: 2001; }
        .lightbox-close:hover, .lightbox-toggle:hover { background-color: rgba(0, 0, 0, 0.9); }
        .lightbox-close { right: 20px; font-size: 30px; line-height: 1; padding: 5px 15px; }
        .lightbox-toggle { right: 85px; font-size: 16px; }

        /* ==================== æ§åˆ¶é¢æ¿ (åŠŸèƒ½å·²æ¢å¤) ==================== */
        #controls { position: fixed; bottom: 2vh; left: 50%; transform: translateX(-50%); background: var(--secondary-bg); backdrop-filter: blur(10px); padding: 1vh 2vh; border-radius: 50px; display: flex; align-items: center; gap: 1.5vh; z-index: 1000; box-shadow: 0 4px 20px var(--shadow-color); border: 1px solid var(--border-color); }
        #controls button { background: var(--button-bg); color: var(--text-color); border: none; padding: 0.8vh 1.2vh; border-radius: 8px; cursor: pointer; font-size: 1.8vh; transition: all 0.3s ease; display: flex; align-items: center; justify-content: center; min-width: 3.5vh; height: 3.5vh; }
        #controls button:hover { background: var(--button-hover-bg); transform: scale(1.1); }
        #slide-counter { font-size: 1.6vh; font-weight: 500; min-width: 8vh; text-align: center; }
        #progress-indicator { width: 20vh; height: 0.5vh; background: var(--button-bg); border-radius: 0.25vh; overflow: hidden; }
        #progress-bar { height: 100%; background: linear-gradient(90deg, var(--accent-color), var(--header-color)); transition: width 0.5s ease; }
        #theme-btn { position: relative; }
        .theme-menu { position: absolute; bottom: 100%; left: 50%; transform: translateX(-50%); background: var(--secondary-bg); border: 1px solid var(--border-color); border-radius: 8px; padding: 0.5vh; margin-bottom: 0.5vh; display: none; box-shadow: 0 4px 12px var(--shadow-color); z-index: 1001;}
        .theme-menu.show { display: block; }
        .theme-option { padding: 0.5vh 1vh; cursor: pointer; border-radius: 4px; font-size: 1.4vh; white-space: nowrap; }
        .theme-option:hover { background: var(--button-bg); }
    </style>
</head>

<body>
    <div id="presentation-container">
        
        <!-- Slide 1: Title -->
        <div class="slide active">
            <div class="slide-content title-slide">
                <h1>å·¥ä½œè¿›å±•æ±‡æŠ¥ä¸æ–‡çŒ®åˆ†äº«</h1>
                <p class="subtitle">2025å¹´ç§‹å­£å­¦æœŸ ç»„ä¼šå±•ç¤º</p>
                <p class="author"><strong>BY2405316 ä¸¥äº”é‡‘</strong></p>
                <p class="institution">åŒ—äº¬èˆªç©ºèˆªå¤©å¤§å­¦ èˆªç©ºç§‘å­¦ä¸å·¥ç¨‹å­¦é™¢</p>
                <p class="date" id="current-date"></p>
            </div>
        </div>

        <!-- Slide 2: Work Summary -->
        <div class="slide">
            <div class="slide-content">
                <h1>æœ¬å‘¨å·¥ä½œå†…å®¹æ±‡æŠ¥</h1>
                <ol>
                    <li>
                        <h3>å­¦ä¹ å¼€æºæ¡†æ¶</h3>
                        <p>å­¦ä¹ äº† XLB å’Œ FOS ä¸¤å¥—å¼€æºæ¡†æ¶ï¼Œåˆæ­¥äº†è§£å…¶å®ç°åŸç†ä¸ä»£ç ç»“æ„ã€‚</p>
                    </li>
                    <li>
                        <h3>AP-Hybrid-PINN ç®—ä¾‹è¡¥å……</h3>
                        <p>å®Œæˆäº† AP-Hybrid-PINN æ–¹æ³•çš„ç›¸å…³ç®—ä¾‹è¡¥å……ä¸éªŒè¯å·¥ä½œã€‚</p>
                    </li>
                    <li>
                        <h3>æ–‡çŒ®è¿ç§»ä¸å¤ç°</h3>
                        <p>å¼€å§‹è¿ç§»å’Œå¤ç° Liu et al. (2021) å…³äºè¡Œæ˜Ÿå¤§æ°”åæŒ¯è¾å°„ä¼ è¾“çš„æ ¼å­ç»å°”å…¹æ›¼æ–¹æ³•çš„å·¥ä½œï¼Œåç»­éœ€è¦å’Œå¸ˆå…„è¿›ä¸€æ­¥è®¨è®ºæ–¹æ¡ˆã€‚</p>
                    </li>
                </ol>
            </div>
        </div>

        <!-- Slide 3 to 14: å†…å®¹ä¿æŒä¸å˜... -->
        <!-- Slide 3: Paper Intro -->
        <div class="slide">
            <div class="slide-content title-slide">
                <h2 style="font-size: 2.5vw; color: var(--header-color); border: none;">æ–‡çŒ®åˆ†äº«</h2>
                <h1 style="font-size: 3.5vw;">FOS: A fully integrated open-source program for Fast Optical Spectrum calculations of nanoparticle media</h1>
                <p class="author text-sm" style="margin-top: 2vw;">Daniel Carne, Joseph Peoples, Xiulin Ruan, et al.</p>
                <p class="date text-sm">Purdue University</p>
                <p class="date text-sm" style="font-style: italic;">Computer Physics Communications 307 (2025) 109393</p>
            </div>
        </div>

        <!-- Slide 4: Background -->
        <div class="slide">
            <div class="slide-content">
                <h1>ç ”ç©¶èƒŒæ™¯ä¸åŠ¨æœº</h1>
                <h3>æ ¸å¿ƒæŒ‘æˆ˜</h3>
                <p>è®¡ç®—çº³ç±³é¢—ç²’ä»‹è´¨ï¼ˆå¦‚è¾å°„åˆ¶å†·æ¶‚æ–™ã€å¤ªé˜³èƒ½åŠ çƒ­æ¶²ä½“ï¼‰çš„å…‰è°±å“åº”ï¼ˆåå°„ã€å¸æ”¶ã€é€å°„ï¼‰æ˜¯ä¸€ä¸ªå¤æ‚ä¸”è®¡ç®—æˆæœ¬é«˜æ˜‚çš„ä»»åŠ¡ã€‚</p>
                <h3>ç°æœ‰å·¥å…·çš„å±€é™æ€§</h3>
                <ul>
                    <li><strong>åŠŸèƒ½åˆ†æ•£ï¼š</strong>ç°æœ‰çš„å¼€æºä»£ç é€šå¸¸åªåŒ…å«å®Œæ•´æµç¨‹çš„ä¸€éƒ¨åˆ†ï¼Œä¾‹å¦‚ï¼Œè¦ä¹ˆåªåšç±³æ°æ•£å°„ï¼ˆMie theoryï¼‰ï¼Œè¦ä¹ˆåªåšè’™ç‰¹å¡æ´›ï¼ˆMonte Carloï¼‰å…‰å­ä¼ è¾“ï¼Œç”¨æˆ·éœ€è¦è‡ªè¡Œæ•´åˆã€‚</li>
                    <li><strong>è®¡ç®—æ•ˆç‡ä½ï¼š</strong>ä¼ ç»Ÿçš„æ•°å€¼æ–¹æ³•ï¼ˆå¦‚FDTDï¼‰éå¸¸è€—æ—¶ï¼Œéš¾ä»¥ç”¨äºææ–™ä¼˜åŒ–å’Œé«˜é€šé‡è®¾è®¡ã€‚</li>
                    <li><strong>ä½¿ç”¨é—¨æ§›é«˜ï¼š</strong>éœ€è¦ç ”ç©¶è€…å…·å¤‡è·¨è¶Šå¤šç§ç‰©ç†æ¨¡å‹å’Œç¼–ç¨‹å·¥å…·çš„èƒ½åŠ›ã€‚</li>
                </ul>
                <div class="note">
                    <strong>ç ”ç©¶åŠ¨æœºï¼š</strong> å¼€å‘ä¸€ä¸ª<strong>åŠŸèƒ½å…¨é¢é›†æˆã€è®¡ç®—é€Ÿåº¦æå¿«ã€æ˜“äºä½¿ç”¨</strong>çš„å¼€æºç¨‹åºï¼Œæ‰“ç ´ç°æœ‰å·¥å…·çš„å£å’ï¼ŒåŠ é€Ÿæ–°ææ–™å’Œæ–°è®¾è®¡ï¼ˆå¦‚è¾å°„åˆ¶å†·æ¶‚æ–™ï¼‰çš„å‘ç°è¿‡ç¨‹ã€‚
                </div>
            </div>
        </div>

        <!-- Slide 5: FOS Workflow -->
        <div class="slide">
            <div class="slide-content">
                <h1>FOS æ¡†æ¶ï¼šä¸€ä½“åŒ–è§£å†³æ–¹æ¡ˆ</h1>
                <p>FOS (å¸Œè…Šè¯­ä¸­çš„â€œå…‰â€)ï¼Œæä¾›äº†ä¸€ä¸ªä»è¾“å…¥åˆ°è¾“å‡ºçš„å®Œæ•´ã€é«˜æ•ˆçš„è®¡ç®—æµç¨‹ã€‚</p>
                <figure>
                    <img src="https://cdn.noedgeai.com/bo_d2v6pijef24c73b39j40_2.jpg?x=133&y=153&w=1477&h=366&r=0" alt="FOS Workflow" class="clickable"/>
                    <figcaption>Fig. 1. FOS å®Œæ•´å·¥ä½œæµç¨‹å›¾</figcaption>
                </figure>
                <ol>
                    <li><strong>è¾“å…¥ï¼š</strong>é€šè¿‡ç®€å•çš„æ–‡æœ¬æ–‡ä»¶å®šä¹‰ææ–™å±æ€§ã€å‡ ä½•ç»“æ„ç­‰ã€‚</li>
                    <li><strong>é¢„å¤„ç†ï¼š</strong>è‡ªåŠ¨è¿›è¡Œæ³¢é•¿åŒ¹é…å’Œæ•°æ®æ’å€¼ã€‚</li>
                    <li><strong>æ•£å°„ç‰¹æ€§è®¡ç®—ï¼š</strong>åŸºäº<strong>ç±³æ°æ•£å°„ç†è®º</strong>è®¡ç®—é¢—ç²’çš„æ•£å°„ã€å¸æ”¶ç³»æ•°å’Œä¸å¯¹ç§°å› å­ã€‚</li>
                    <li><strong>å…‰å­ä¼ è¾“æ¨¡æ‹Ÿï¼š</strong>é‡‡ç”¨<strong>è’™ç‰¹å¡æ´› (MC)</strong> æˆ–<strong>ç¥ç»ç½‘ç»œ (NN)</strong> æ–¹æ³•ã€‚</li>
                    <li><strong>è¾“å‡ºï¼š</strong>ç”Ÿæˆå…‰è°±å“åº”æ›²çº¿ï¼ˆR, A, Tï¼‰å’Œé›†æˆçš„å¤ªé˜³å…‰è°±å±æ€§ã€‚</li>
                </ol>
            </div>
        </div>

        <!-- Slide 6: Input Format -->
        <div class="slide">
            <div class="slide-content">
                <h1>æ–¹æ³•ï¼šç®€æ´çš„è¾“å…¥æ–‡ä»¶æ ¼å¼</h1>
                <p>ç”¨æˆ·é€šè¿‡ä¸€ä¸ªä¸»è¾“å…¥æ–‡ä»¶æ§åˆ¶æ‰€æœ‰æ¨¡æ‹Ÿï¼Œæ–‡ä»¶åˆ†ä¸º<strong>Header</strong>ï¼ˆå…¨å±€è®¾ç½®ï¼‰å’Œ<strong>Body</strong>ï¼ˆå…·ä½“æ¨¡æ‹Ÿè®¾ç½®ï¼‰ã€‚</p>
                 <div class="columns">
                    <div class="column">
                        <pre><code># Header: å…¨å±€è®¾ç½®
MC # é€‰æ‹©è’™ç‰¹å¡æ´›æ–¹æ³•
Output: test # è¾“å‡ºæ–‡ä»¶å‰ç¼€
Particle 1: TiO2.txt # å¯¼å…¥é¢—ç²’ææ–™
Matrix 1: Air.txt # å¯¼å…¥åŸºåº•ææ–™
Solar: am15.txt # å¤ªé˜³å…‰è°±æ–‡ä»¶
# ...
# Body: å®šä¹‰å…·ä½“æ¨¡æ‹Ÿ
Sim 1 # ç¬¬ä¸€ä¸ªæ¨¡æ‹Ÿ
Upper: Matrix 1 # ä¸Šè¾¹ç•Œ
Layer 1 # ç¬¬ä¸€å±‚
# ...</code></pre>
                    </div>
                    <div class="column">
                        <figure>
                            <img src="https://cdn.noedgeai.com/bo_d2v6pijef24c73b39j40_2.jpg?x=106&y=617&w=756&h=376&r=0" alt="Schematic" class="clickable" style="margin-top:0;"/>
                            <figcaption>Fig. 2. åŸºäºè¾“å…¥æ–‡ä»¶ç¤ºä¾‹çš„åŒå±‚ä»‹è´¨ç¤ºæ„å›¾ã€‚</figcaption>
                        </figure>
                    </div>
                </div>
                <div class="note">
                    <strong>ç‰¹ç‚¹ï¼š</strong>è¯­æ³•ç®€å•ç›´è§‚ï¼Œå¤§å°å†™ä¸æ•æ„Ÿï¼Œæ”¯æŒæ³¨é‡Šï¼Œå¤§å¤§é™ä½äº†ä½¿ç”¨é—¨æ§›ã€‚
                </div>
            </div>
        </div>
        
        <!-- Slide 7: Scattering Properties -->
        <div class="slide">
            <div class="slide-content">
                <h1>æ–¹æ³•ï¼šåŸºäºç±³æ°ç†è®ºçš„æ•£å°„ç‰¹æ€§è®¡ç®—</h1>
                <p>é™¤éç”¨æˆ·æä¾›é¢„è®¡ç®—æ•°æ®ï¼ŒFOS ä½¿ç”¨ç±³æ°ç†è®ºè®¡ç®—çƒå½¢æˆ–æ ¸å£³é¢—ç²’çš„æ•£å°„ç‰¹æ€§ã€‚</p>
                <div class="columns">
                    <div class="column">
                        <h3>æ ¸å¿ƒæ­¥éª¤</h3>
                        <ol>
                            <li>è®¡ç®—å°ºå¯¸å‚æ•° $x, y$ã€‚</li>
                            <li>è®¡ç®—ç±³æ°ç³»æ•° $a_n, b_n$ã€‚</li>
                            <li>è®¡ç®—å•ä¸ªé¢—ç²’çš„æ•£å°„/æ¶ˆå…‰æˆªé¢ $C_{sca}, C_{ext}$ã€‚</li>
                            <li>é€šè¿‡æœ‰æ•ˆä»‹è´¨ç†è®ºï¼Œè®¡ç®—ä»‹è´¨çš„ $\mu_s, \mu_a$ å’Œ $g$ã€‚</li>
                            <li>å¯¹é«˜ä½“ç§¯åˆ†æ•° (>8%) è¿›è¡Œä¾èµ–æ€§æ•£å°„æ ¡æ­£ã€‚</li>
                        </ol>
                    </div>
                    <div class="column">
                        <h3>åŠ é€Ÿä¸ä¼˜åŒ–</h3>
                        <ul>
                            <li><strong>è´å¡å°”å‡½æ•°ï¼š</strong>é‡‡ç”¨é€’æ¨å…³ç³»è®¡ç®—ï¼Œæ˜¾è‘—æå‡é€Ÿåº¦ã€‚</li>
                            <li><strong>å°ºå¯¸åˆ†å¸ƒï¼š</strong>æ”¯æŒé«˜æ–¯åˆ†å¸ƒï¼Œæ›´è´´è¿‘å®é™…æƒ…å†µã€‚</li>
                            <li><strong>æ ¸å£³ç»“æ„ï¼š</strong>å†…ç½®äº†é’ˆå¯¹æ ¸å£³çº³ç±³é¢—ç²’çš„ç®—æ³•ã€‚</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 8: Photon Transport -->
        <div class="slide">
            <div class="slide-content">
                <h1>æ–¹æ³•ï¼šå…‰å­ä¼ è¾“æ¨¡æ‹Ÿ (MC vs. NN)</h1>
                <p>FOS æä¾›ä¸¤ç§æ¨¡å¼æ¥æ±‚è§£è¾å°„ä¼ è¾“æ–¹ç¨‹ï¼Œä»¥è·å¾—æœ€ç»ˆçš„å…‰è°±å“åº”ã€‚</p>
                <div class="columns">
                    <div class="column">
                        <h3>è’™ç‰¹å¡æ´› (Monte Carlo)</h3>
                        <ul>
                            <li><strong>åŸç†ï¼š</strong>è¿½è¸ªå¤§é‡ç‹¬ç«‹å…‰å­åœ¨ä»‹è´¨ä¸­çš„éšæœºæ¸¸èµ°è¿‡ç¨‹ã€‚</li>
                            <li><strong>ä¼˜ç‚¹ï¼š</strong>ç»“æœç²¾ç¡®ï¼Œæ— éœ€ç®€åŒ–å‡è®¾ï¼Œå¯å¤„ç†ä»»æ„è¾¹ç•Œæ¡ä»¶ã€‚</li>
                            <li><strong>åŠ é€Ÿï¼š</strong>å®ç°äº†<strong>CPUå¹¶è¡Œè®¡ç®—</strong>ã€‚</li>
                        </ul>
                    </div>
                    <div class="column">
                        <h3>ç¥ç»ç½‘ç»œ (Neural Network)</h3>
                        <ul>
                            <li><strong>åŸç†ï¼š</strong>ä½¿ç”¨é¢„è®­ç»ƒæ¨¡å‹ç›´æ¥é¢„æµ‹ R, A, Tã€‚</li>
                            <li><strong>ä¼˜ç‚¹ï¼š</strong>é€Ÿåº¦æå¿«ï¼Œæ¯”å¹¶è¡ŒMCå¿« <strong>1-3ä¸ªæ•°é‡çº§</strong>ã€‚</li>
                            <li><strong>é™åˆ¶ï¼š</strong>åªèƒ½ç”¨äºç©ºæ°”è¾¹ç•Œï¼Œä¸”ææ–™å±æ€§éœ€åœ¨è®­ç»ƒé›†èŒƒå›´å†…ã€‚</li>
                        </ul>
                    </div>
                </div>
                <h3>ç¥ç»ç½‘ç»œè®­ç»ƒæ•°æ®èŒƒå›´</h3>
                <table>
                    <thead><tr><th>å…‰å­¦å±æ€§</th><th>èŒƒå›´</th></tr></thead>
                    <tbody>
                        <tr><td>åŸºåº•æŠ˜å°„ç‡ (å®éƒ¨)</td><td>1 - 7</td></tr>
                        <tr><td>å¸æ”¶ç³»æ•° (cmâ»Â¹)</td><td>0 - 1,000,000</td></tr>
                        <tr><td>æ•£å°„ç³»æ•° (cmâ»Â¹)</td><td>0 - 200,000</td></tr>
                        <tr><td>ä¸å¯¹ç§°å› å­ g</td><td>0 - 1</td></tr>
                        <tr><td>ä»‹è´¨åšåº¦ (Âµm)</td><td>5 - 500</td></tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Slide 9: Example 1 -->
        <div class="slide">
            <div class="slide-content">
                <h1>ç®—ä¾‹ä¸€ï¼šè¾å°„åˆ¶å†·å¤åˆææ–™ä¸ç¨‹åºéªŒè¯</h1>
                <div class="columns">
                    <div class="column column-55">
                       <figure>
                            <img src="https://cdn.noedgeai.com/bo_d2v6pijef24c73b39j40_5.jpg?x=120&y=141&w=1504&h=1122&r=0" alt="Radiative Cooling Results" class="clickable" style="max-height: 70vh;"/>
                            <figcaption>Fig. 3. è¾å°„åˆ¶å†·ææ–™æ¨¡æ‹Ÿä¸FOSéªŒè¯</figcaption>
                        </figure>
                    </div>
                    <div class="column column-45">
                        <h3>ç»“æœè§£è¯»</h3>
                        <ul>
                            <li><strong>(A) æ³¢é•¿é—´éš”å½±å“ï¼š</strong>æ¨¡æ‹ŸBaSOâ‚„æ¶‚æ–™ã€‚ç²¾ç»†çš„æ³¢é•¿é—´éš”èƒ½æ›´å¥½åœ°æ•æ‰å…‰è°±ç»†èŠ‚ã€‚</li>
                            <li><strong>(B) NN vs. MC ç²¾åº¦ï¼š</strong>ç¥ç»ç½‘ç»œé¢„æµ‹ç²¾åº¦é«˜ï¼ˆå¹³å‡è¯¯å·®0.0018ï¼‰ï¼Œä¸”æ‰¹é‡ä»»åŠ¡åŠ é€Ÿæ•ˆæœå¯è¾¾ <strong>258å€</strong>ã€‚</li>
                            <li><strong>(C) Mieç†è®ºéªŒè¯ï¼š</strong>FOSè®¡ç®—ç»“æœä¸ <strong>miepython</strong> ä»£ç <strong>å®Œå…¨ä¸€è‡´</strong>ã€‚</li>
                            <li><strong>(D) MCæ¨¡æ‹ŸéªŒè¯ï¼š</strong>FOSé¢„æµ‹ç»“æœä¸ç»å…¸ <strong>MCML</strong> ç¨‹åºé«˜åº¦å»åˆï¼ˆå¹³å‡è¯¯å·®0.0004ï¼‰ã€‚</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Slide 10: Example 2 -->
        <div class="slide">
            <div class="slide-content">
                <h1>ç®—ä¾‹äºŒï¼šç¡…-æ°´çº³ç±³æµä½“ç”¨äºå¤ªé˜³èƒ½åŠ çƒ­</h1>
                <p>æ¨¡æ‹Ÿç¡…(Si)çº³ç±³é¢—ç²’åœ¨æ°´ä¸­çš„å¤ªé˜³èƒ½å¸æ”¶ï¼Œä»¥å¢å¼ºè’¸å‘é€Ÿç‡ã€‚</p>
                <figure>
                    <img src="https://cdn.noedgeai.com/bo_d2v6pijef24c73b39j40_5.jpg?x=129&y=1440&w=1486&h=570&r=0" alt="Si-water results" class="clickable" style="max-height: 45vh;"/>
                    <figcaption>Fig. 4. Si-æ°´çº³ç±³æµä½“çš„å¸æ”¶å…‰è°±</figcaption>
                </figure>
                <div class="columns">
                    <div class="column">
                        <h3>(A) ä¸åŒé¢—ç²’å°ºå¯¸çš„å½±å“</h3>
                        <p>éšç€å°ºå¯¸å˜åŒ–ï¼Œç”±ç±³æ°å…±æŒ¯å¼•èµ·çš„å¸æ”¶å³°ä½ç½®ä¼šå‘ç”Ÿæ˜¾è‘—ç§»åŠ¨ã€‚è¿™è¡¨æ˜å¯ä»¥é€šè¿‡è°ƒæ§ç²’å¾„æ¥é€‰æ‹©æ€§åœ°å¢å¼ºç‰¹å®šæ³¢æ®µçš„å¸æ”¶ã€‚</p>
                    </div>
                    <div class="column">
                        <h3>(B) é¢—ç²’å°ºå¯¸åˆ†å¸ƒçš„å½±å“</h3>
                        <p>å°ºå¯¸åˆ†å¸ƒä¼šâ€œå¹³æ»‘â€æ‰å°–é”çš„å…±æŒ¯å¸æ”¶å³°ï¼Œä½¿å¸æ”¶æ›²çº¿è¶‹äºå¹³ç¼“ã€‚è¿™ä¸€ç°è±¡åœ¨è®¾è®¡å®½è°±å¸æ”¶ææ–™æˆ–è°ƒæ•´é¢œè‰²æ—¶éå¸¸é‡è¦ã€‚</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 11: Example 3 -->
        <div class="slide">
            <div class="slide-content">
                <h1>ç®—ä¾‹ä¸‰ï¼šFeâ‚‚Oâ‚ƒ-TiOâ‚‚-äºšå…‹åŠ›å¤šå±‚å½©è‰²æ¶‚æ–™</h1>
                <p>å±•ç¤ºFOSå¤„ç†å¤šå±‚ã€å¤šé¢—ç²’ä½“ç³»çš„èƒ½åŠ›ï¼Œç”¨äºè®¾è®¡å½©è‰²è¾å°„åˆ¶å†·æ¶‚æ–™ã€‚</p>
                <div class="columns">
                    <div class="column column-55">
                        <figure>
                            <img src="https://cdn.noedgeai.com/bo_d2v6pijef24c73b39j40_6.jpg?x=126&y=871&w=1495&h=1185&r=0" alt="Colored Paint Results" class="clickable" style="max-height: 60vh;"/>
                            <figcaption>Fig. 5. åŒå±‚å½©è‰²æ¶‚æ–™çš„åå°„å…‰è°±ä¸é¢œè‰²</figcaption>
                        </figure>
                    </div>
                    <div class="column column-45">
                        <h3>(A) è®¾è®¡ç†å¿µ</h3>
                        <p>é¡¶å±‚æ˜¯Feâ‚‚Oâ‚ƒ (æä¾›é¢œè‰²)ï¼Œåº•å±‚æ˜¯TiOâ‚‚ (é«˜åå°„)ã€‚çŸ­æ³¢é•¿çš„å…‰ä¸é¡¶å±‚ä½œç”¨ï¼Œé•¿æ³¢é•¿çš„å…‰ç©¿é€åè¢«åº•å±‚åå°„ï¼Œå®ç°é¢œè‰²ä¸é«˜å¤ªé˜³åå°„ç‡çš„å¹³è¡¡ã€‚</p>
                        <h3>(B, C) å‚æ•°å½±å“</h3>
                        <p>ç»“æœè¡¨æ˜ï¼Œé¡¶å±‚Feâ‚‚Oâ‚ƒçš„<strong>ä½“ç§¯åˆ†æ•° (VF)</strong> å’Œ<strong>åšåº¦ (T)</strong> å¯¹æ¶‚æ–™çš„æœ€ç»ˆé¢œè‰²å’Œåå°„å…‰è°±æœ‰æ˜¾è‘—å½±å“ã€‚FOSçš„å¤šå±‚å»ºæ¨¡èƒ½åŠ›å¯ä»¥é«˜æ•ˆåœ°ä¼˜åŒ–è¿™äº›å‚æ•°ã€‚</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 12: Example 4 -->
        <div class="slide">
            <div class="slide-content">
                <h1>ç®—ä¾‹å››ï¼šä¸­ç©º SiOâ‚‚ çº³ç±³é¢—ç²’ï¼ˆæ ¸å£³ç»“æ„ï¼‰</h1>
                <p>å±•ç¤ºFOSå¯¹æ ¸å£³ï¼ˆCore-Shellï¼‰çº³ç±³é¢—ç²’çš„å»ºæ¨¡èƒ½åŠ›ï¼Œå…¶å…‰å­¦ç‰¹æ€§ä¸å®å¿ƒé¢—ç²’ä¸åŒã€‚</p>
                <figure>
                    <img src="https://cdn.noedgeai.com/bo_d2v6pijef24c73b39j40_7.jpg?x=126&y=149&w=1492&h=566&r=0" alt="Hollow SiO2 Results" class="clickable" style="max-height: 45vh;"/>
                    <figcaption>Fig. 6. ä¸­ç©º(æ ¸å£³)ä¸å®å¿ƒSiOâ‚‚é¢—ç²’çš„åå°„å…‰è°±å¯¹æ¯”</figcaption>
                </figure>
                <div class="columns">
                    <div class="column">
                        <h3>(A) ä¸­ç©º SiOâ‚‚ (æ ¸:ç©ºæ°”, å£³:SiOâ‚‚)</h3>
                        <p>å›ºå®šå†…å¾„(0.5Âµm)ï¼Œæ”¹å˜å£³å±‚åšåº¦ï¼ˆä½¿å¤–å¾„ä»0.7Âµmåˆ°1.1Âµmï¼‰ã€‚ç»“æœæ˜¾ç¤ºå£³å±‚åšåº¦å¯¹å…‰è°±æœ‰è°ƒèŠ‚ä½œç”¨ã€‚</p>
                    </div>
                    <div class="column">
                        <h3>(B) å®å¿ƒ SiOâ‚‚ ä¸å¯¹æ¯”</h3>
                        <p>å¯¹æ¯”å‘ç°ï¼Œåœ¨çŸ­æ³¢æ®µï¼Œä¸¤è€…åå°„ç‡ç›¸ä¼¼ï¼›ä½†åœ¨é•¿æ³¢æ®µï¼Œä¸­ç©ºé¢—ç²’çš„åå°„ç‡æ˜¾è‘—ä¸‹é™ã€‚è¿™ç§ç‰¹æ€§å¯ç”¨äºå®ç°å…‰è°±é€‰æ‹©æ€§ã€‚</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 13: Conclusion -->
        <div class="slide">
            <div class="slide-content">
                <h1>ç»“è®º</h1>
                <div class="columns">
                    <div class="column">
                        <h3>ä¸»è¦è´¡çŒ®</h3>
                        <ul>
                            <li><strong>é™ä½é—¨æ§›ï¼š</strong>å°†ç±³æ°ç†è®ºã€å…‰å­ä¼ è¾“ç­‰å¤šç§å¿…è¦æ–¹æ³•<strong>é›†æˆäºä¸€ä¸ªæ˜“ç”¨çš„ç¨‹åº</strong>ä¸­ã€‚</li>
                            <li><strong>æå‡æ•ˆç‡ï¼š</strong>é€šè¿‡ä¼˜åŒ–çš„ç®—æ³•ã€å¹¶è¡Œè®¡ç®—å’Œ<strong>é¢„è®­ç»ƒç¥ç»ç½‘ç»œ</strong>ï¼Œæå¤§åŠ é€Ÿäº†è®¡ç®—è¿‡ç¨‹ã€‚</li>
                        </ul>
                    </div>
                    <div class="column">
                        <h3>ä»·å€¼ä¸å±•æœ›</h3>
                        <ul>
                            <li>FOSèƒ½å¤Ÿé«˜æ•ˆè®¡ç®—çº³ç±³é¢—ç²’çš„è¾å°„ç‰¹æ€§ï¼ŒåŠ é€Ÿé«˜é€šé‡è®¾è®¡å’Œä¼˜åŒ–ã€‚</li>
                            <li>å¯æ¨åŠ¨è¾å°„åˆ¶å†·æ¶‚æ–™ã€æœˆå°˜å»ºæ¨¡ã€å¤ªé˜³èƒ½åŠ çƒ­ç­‰é¢†åŸŸçš„å‘å±•ã€‚</li>
                        </ul>
                    </div>
                </div>
                <div class="note" style="text-align: center; margin-top: 2vw;">
                    <strong>å¼€æºé¡¹ç›®åœ°å€:</strong> <a href="https://github.com/FastOpticalSpectrum/FOS" target="_blank" rel="noopener noreferrer">github.com/FastOpticalSpectrum/FOS</a>
                </div>
            </div>
        </div>

        <!-- Slide 14: Q&A -->
        <div class="slide">
            <div class="slide-content title-slide">
                <h1>æ„Ÿè°¢è†å¬</h1>
                <p class="subtitle" style="margin-top: 3vw;">é—®ç­”ç¯èŠ‚ (Q&A)</p>
            </div>
        </div>
        
        <!-- Image Lightbox -->
        <div id="image-lightbox">
            <span class="lightbox-close" title="å…³é—­ (Esc)">Ã—</span>
            <button class="lightbox-toggle" title="åˆ‡æ¢è§†å›¾æ¨¡å¼"></button>
            <img src="" alt="å…¨å±è§†å›¾" id="lightbox-img">
        </div>

    </div>

    <!-- [æ¢å¤] å®Œæ•´çš„æ§åˆ¶é¢æ¿ -->
    <div id="controls">
        <button id="prev-btn" title="ä¸Šä¸€é¡µ (â†)">â—€</button>
        <button id="first-btn" title="ç¬¬ä¸€é¡µ (Home)">â®</button>
        <span id="slide-counter">1 / 14</span>
        <button id="last-btn" title="æœ€åä¸€é¡µ (End)">â­</button>
        <button id="next-btn" title="ä¸‹ä¸€é¡µ (â†’)">â–¶</button>
        <div id="progress-indicator"><div id="progress-bar"></div></div>
        <button id="goto-btn" title="è·³è½¬ (G)">ğŸ”¢</button>
        <button id="font-dec-btn" title="å‡å°å­—å·">A-</button>
        <button id="font-inc-btn" title="å¢å¤§å­—å·">A+</button>
        <button id="theme-btn" title="åˆ‡æ¢ä¸»é¢˜">ğŸ¨
            <div class="theme-menu" id="theme-menu">
                <div class="theme-option" data-theme="default">ä¸“ä¸šè“</div>
                <div class="theme-option" data-theme="dark">æ·±è‰²</div>
                <div class="theme-option" data-theme="green">æ¸…æ–°ç»¿</div>
                <div class="theme-option" data-theme="mint">è–„è·é’</div>
                <div class="theme-option" data-theme="indigo">é›è“</div>
            </div>
        </button>
        <button id="fullscreen-btn" title="å…¨å± (F)">â›¶</button>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // [æ¢å¤] åŠ¨æ€è®¾ç½®æ—¥æœŸ
            function setDynamicDate() {
                const dateElement = document.getElementById('current-date');
                if (dateElement) {
                    const today = new Date();
                    dateElement.textContent = `${today.getFullYear()}å¹´${today.getMonth() + 1}æœˆ${today.getDate()}æ—¥`;
                }
            }
            setDynamicDate();

            // [æ¢å¤] è·å–æ‰€æœ‰éœ€è¦çš„å…ƒç´ 
            const presentationContainer = document.getElementById('presentation-container');
            const slides = document.querySelectorAll('.slide');
            const totalSlides = slides.length;
            const controls = {
                prev: document.getElementById('prev-btn'),
                next: document.getElementById('next-btn'),
                first: document.getElementById('first-btn'),
                last: document.getElementById('last-btn'),
                goto: document.getElementById('goto-btn'),
                fontDec: document.getElementById('font-dec-btn'),
                fontInc: document.getElementById('font-inc-btn'),
                theme: document.getElementById('theme-btn'),
                themeMenu: document.getElementById('theme-menu'),
                fullscreen: document.getElementById('fullscreen-btn'),
                counter: document.getElementById('slide-counter'),
                progressBar: document.getElementById('progress-bar')
            };

            let currentSlide = 0;
            let fontScale = 1.0;

            // å–æ¶ˆâ€œåŠ¨æ€å®‰å…¨è¾¹è·â€é€»è¾‘ï¼Œç»Ÿä¸€ç”± .slide-content è´Ÿè´£æ»šåŠ¨
            
            // [æ¢å¤] å­—ä½“ç¼©æ”¾åŠŸèƒ½
            function updateFontScale() {
                presentationContainer.style.setProperty('--font-scale', fontScale);
            }
            controls.fontInc.addEventListener('click', () => {
                fontScale = Math.min(1.5, fontScale + 0.1);
                updateFontScale();
            });
            controls.fontDec.addEventListener('click', () => {
                fontScale = Math.max(0.7, fontScale - 0.1);
                updateFontScale();
            });

            // [æ¢å¤] ä¸»é¢˜åˆ‡æ¢åŠŸèƒ½
            function setTheme(theme) {
                document.documentElement.setAttribute('data-theme', theme);
                localStorage.setItem('presentation-theme', theme);
                controls.themeMenu.classList.remove('show');
            }
            controls.theme.addEventListener('click', (e) => { e.stopPropagation(); controls.themeMenu.classList.toggle('show'); });
            document.addEventListener('click', () => controls.themeMenu.classList.remove('show'));
            document.querySelectorAll('.theme-option').forEach(option => {
                option.addEventListener('click', (e) => { e.stopPropagation(); setTheme(option.dataset.theme); });
            });

            // [æ¢å¤] å…¨å±åŠŸèƒ½
            function toggleFullscreen() {
                if (!document.fullscreenElement) {
                    presentationContainer.requestFullscreen().catch(err => console.error(`Fullscreen error: ${err.message}`));
                } else {
                    document.exitFullscreen();
                }
            }
            controls.fullscreen.addEventListener('click', toggleFullscreen);
            // ä¿ç•™ï¼šæ— 

            // å¹»ç¯ç‰‡å¯¼èˆª
            function showSlide(index) {
                if (index < 0 || index >= totalSlides) return;
                slides.forEach((s, i) => s.classList.toggle('active', i === index));
                currentSlide = index;
                controls.counter.textContent = `${currentSlide + 1} / ${totalSlides}`;
                controls.progressBar.style.width = `${((currentSlide + 1) / totalSlides) * 100}%`;
                if (window.MathJax && window.MathJax.typeset) {
                    MathJax.typesetPromise([slides[index]]).catch(err => console.error('MathJax error:', err));
                }
            }
            
            const slideActions = {
                next: () => showSlide(currentSlide + 1),
                prev: () => showSlide(currentSlide - 1),
                first: () => showSlide(0),
                last: () => showSlide(totalSlides - 1),
                goto: () => {
                    const numStr = prompt(`è·³è½¬åˆ°ç¬¬å‡ é¡µ? (1-${totalSlides})`);
                    if (numStr) {
                        const num = parseInt(numStr, 10) - 1;
                        if (!isNaN(num) && num >= 0 && num < totalSlides) showSlide(num);
                    }
                }
            };
            controls.next.addEventListener('click', slideActions.next);
            controls.prev.addEventListener('click', slideActions.prev);
            controls.first.addEventListener('click', slideActions.first);
            controls.last.addEventListener('click', slideActions.last);
            controls.goto.addEventListener('click', slideActions.goto);

            // å›¾ç‰‡ç¯ç®±åŠŸèƒ½
            const lightbox = document.getElementById('image-lightbox');
            const lightboxImg = document.getElementById('lightbox-img');
            const lightboxClose = lightbox.querySelector('.lightbox-close');
            const lightboxToggle = lightbox.querySelector('.lightbox-toggle');
            function openLightbox(src) {
                lightboxImg.src = src;
                lightbox.classList.remove('fit-width');
                lightboxToggle.textContent = 'â¤¢ é€‚åº”å®½åº¦';
                lightbox.classList.add('visible');
            }
            function closeLightbox() { lightbox.classList.remove('visible'); }
            document.querySelectorAll('img.clickable').forEach(img => img.addEventListener('click', (e) => { e.stopPropagation(); openLightbox(img.src); }));
            lightboxClose.addEventListener('click', closeLightbox);
            lightbox.addEventListener('click', (e) => (e.target === lightbox) && closeLightbox());
            lightboxToggle.addEventListener('click', () => {
                const isFitWidth = lightbox.classList.toggle('fit-width');
                lightboxToggle.textContent = isFitWidth ? 'â†” é€‚åº”å±å¹•' : 'â¤¢ é€‚åº”å®½åº¦';
            });

            // [æ¢å¤] å®Œæ•´çš„é”®ç›˜äº‹ä»¶ç›‘å¬
            document.addEventListener('keydown', (e) => {
                if (lightbox.classList.contains('visible')) {
                    if (e.key === 'Escape') closeLightbox();
                    return;
                }
                switch(e.key) {
                    case 'ArrowRight': case ' ': e.preventDefault(); slideActions.next(); break;
                    case 'ArrowLeft': e.preventDefault(); slideActions.prev(); break;
                    case 'Home': e.preventDefault(); slideActions.first(); break;
                    case 'End': e.preventDefault(); slideActions.last(); break;
                    case 'f': case 'F': e.preventDefault(); toggleFullscreen(); break;
                    case 'g': case 'G': e.preventDefault(); slideActions.goto(); break;
                    case 'Escape': if (document.fullscreenElement) document.exitFullscreen(); break;
                }
                if ((e.ctrlKey || e.metaKey) && (e.key === '=' || e.key === '+')) {
                    e.preventDefault();
                    controls.fontInc.click();
                }
                if ((e.ctrlKey || e.metaKey) && e.key === '-') {
                    e.preventDefault();
                    controls.fontDec.click();
                }
            });
            
            // åˆå§‹åŒ–
            const savedTheme = localStorage.getItem('presentation-theme') || 'default';
            setTheme(savedTheme);
            showSlide(0);
        });
    </script>
</body>
</html>
