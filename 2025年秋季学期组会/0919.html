<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç»„ä¼šæ±‡æŠ¥ - XLBæ¡†æ¶å­¦ä¹ ä¸å·¥ä½œè¿›å±•</title>
    
    <!-- MathJax é…ç½® - æ”¯æŒæ•°å­¦å…¬å¼ -->
    <script>
        MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']]
            },
            svg: {
                fontCache: 'global'
            }
        };
    </script>
    <script type="text/javascript" id="MathJax-script" async
        src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
    </script>
    
    <style>
        /* ==================== ä¸»é¢˜å˜é‡ ==================== */
        :root {
            /* é»˜è®¤ä¸»é¢˜ - ä¸“ä¸šè“ */
            --primary-bg: #f8f9fa;
            --secondary-bg: #ffffff;
            --text-color: #2c3e50;
            --header-color: #2563eb;
            --accent-color: #3b82f6;
            --button-bg: #e5e7eb;
            --button-hover-bg: #d1d5db;
            --border-color: #d1d5db;
            --note-bg: #eff6ff;
            --note-border: #3b82f6;
            --shadow-color: rgba(0, 0, 0, 0.1);
            --code-bg: #f3f4f6;
            --code-color: #1f2937;
            /* [æ–°å¢] å­—ä½“ç¼©æ”¾å˜é‡ */
            --font-scale: 1.0; 
        }

        /* æ·±è‰²ä¸»é¢˜ */
        [data-theme="dark"] {
            --primary-bg: #1a1a1a;
            --secondary-bg: #262626;
            --text-color: #e5e5e5;
            --header-color: #60a5fa;
            --accent-color: #3b82f6;
            --button-bg: #404040;
            --button-hover-bg: #525252;
            --border-color: #404040;
            --note-bg: #1e3a5f;
            --note-border: #60a5fa;
            --shadow-color: rgba(0, 0, 0, 0.5);
            --code-bg: #374151;
            --code-color: #f3f4f6;
        }
        /* ç»¿è‰²ä¸»é¢˜ï¼ˆä¼˜åŒ–ï¼šæ›´æ¸…æ–°ã€è‹¹æœé£ï¼‰ */
        [data-theme="green"] {
            --primary-bg: #f6fbf7;    /* æŸ”å’Œæµ…ç»¿åº• */
            --secondary-bg: #ffffff;
            --text-color: #0f2e1d;    /* æ·±ç»¿åä¸­æ€§æ–‡å­— */
            --header-color: #2ec866;  /* ç³»ç»Ÿç»¿é£æ ¼ */
            --accent-color: #34c759;  /* Apple systemGreen */
            --button-bg: #e8f5ea;     /* è½»æµ…æŒ‰é’®èƒŒæ™¯ */
            --button-hover-bg: #dff1e3;
            --border-color: #d6eadb;  /* æŸ”å’Œè¾¹æ¡† */
            --note-bg: #edf9f0;       /* æµ…æç¤ºåº• */
            --note-border: #34c759;
            --code-bg: #f1f6f2;
            --code-color: #0f2e1d;
        }

        /* è–„è·ä¸»é¢˜ï¼ˆæ–°å¢ï¼‰ï¼šæ¸…æ–°è–„è·é’ï¼ŒApple systemMint é£æ ¼ï¼‰ */
        [data-theme="mint"] {
            --primary-bg: #f5fbfa;
            --secondary-bg: #ffffff;
            --text-color: #0f2f2e;
            --header-color: #00c7be;  /* systemMint */
            --accent-color: #20dad0;
            --button-bg: #e6f7f5;
            --button-hover-bg: #d7f2ef;
            --border-color: #cde9e6;
            --note-bg: #edfafa;
            --note-border: #00c7be;
            --code-bg: #eef7f6;
            --code-color: #0f2f2e;
        }

        /* é›è“ä¸»é¢˜ï¼ˆæ–°å¢ï¼‰ï¼šæ²‰ç¨³ç°ä»£ï¼ŒApple systemIndigo é£æ ¼ */
        [data-theme="indigo"] {
            --primary-bg: #f6f7fb;
            --secondary-bg: #ffffff;
            --text-color: #1e2233;
            --header-color: #5856d6;  /* systemIndigo */
            --accent-color: #6b6aed;
            --button-bg: #eceefa;
            --button-hover-bg: #e3e6f8;
            --border-color: #dfe2f3;
            --note-bg: #eef0fb;
            --note-border: #6b6aed;
            --code-bg: #f3f4fa;
            --code-color: #1e2233;
        }

        /* ==================== å…¨å±€æ ·å¼ ==================== */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        html, body { width: 100%; height: 100%; background: var(--primary-bg); color: var(--text-color); font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', 'Microsoft YaHei', 'PingFang SC', sans-serif; overflow: hidden; transition: background-color 0.3s ease, color 0.3s ease; }

        /* ==================== æ¼”ç¤ºå®¹å™¨ ==================== */
        #presentation-container { position: relative; width: 100vw; height: 56.25vw; max-height: 100vh; max-width: 177.78vh; margin: auto; top: 50%; transform: translateY(-50%); background: var(--secondary-bg); box-shadow: 0 10px 40px var(--shadow-color); border-radius: 8px; overflow: hidden; transition: all 0.3s ease; }

        /* ==================== å¹»ç¯ç‰‡åŸºç¡€æ ·å¼ ==================== */
        .slide { width: 100%; height: 100%; padding: 3vw; display: none; flex-direction: column; opacity: 0; transition: opacity 0.5s ease-in-out; position: absolute; }
        .slide.active { display: flex; opacity: 1; z-index: 1; }
        /* ä½¿å†…å®¹åŒºåŸŸåœ¨ Flex å¸ƒå±€ä¸­å¯ä¼¸ç¼©å¹¶æ‰¿æ‹…æ»šåŠ¨ */
        .slide-content { width: 100%; flex: 1 1 auto; min-height: 0; overflow-y: auto; overflow-x: hidden; padding-right: 1vw; }
        .slide-content::-webkit-scrollbar { width: 8px; }
        .slide-content::-webkit-scrollbar-track { background: var(--button-bg); border-radius: 4px; }
        .slide-content::-webkit-scrollbar-thumb { background: var(--border-color); border-radius: 4px; }
        .slide-content::-webkit-scrollbar-thumb:hover { background: var(--button-hover-bg); }

        /* ==================== æ–‡æœ¬ä¸æ ‡é¢˜æ ·å¼ (åº”ç”¨å­—ä½“ç¼©æ”¾) ==================== */
        h1, h2, h3 { color: var(--header-color); margin-bottom: 1.5vw; font-weight: 600; line-height: 1.3; }
        h1 { font-size: calc(3.2vw * var(--font-scale)); border-bottom: 3px solid var(--accent-color); padding-bottom: 1vw; }
        h2 { font-size: calc(2.5vw * var(--font-scale)); border-bottom: 2px solid var(--accent-color); padding-bottom: 0.8vw; }
        h3 { font-size: calc(2.0vw * var(--font-scale)); color: var(--text-color); margin-top: 1vw; }
        p, li { font-size: calc(1.5vw * var(--font-scale)); line-height: 1.8; margin-bottom: 1.2vw; }
        /* åˆ—è¡¨åŸºç¡€é—´è· */
        ul, ol { margin: 1vw 0 1vw 2vw; }
        
        strong { color: var(--header-color); font-weight: 600; }
        .text-sm { font-size: calc(1.2vw * var(--font-scale)); }
        .text-center { text-align: center; }
        a { color: var(--header-color); text-decoration: none; }
        a:hover { text-decoration: underline; }

        /* æ ‡é¢˜é¡µå¸ƒå±€ (åº”ç”¨å­—ä½“ç¼©æ”¾) */
        .title-slide { display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; background: linear-gradient(135deg, var(--secondary-bg) 0%, var(--primary-bg) 100%); overflow: hidden; }
        .title-slide h1 { font-size: calc(4vw * var(--font-scale)); border: none; margin-bottom: 2vw; background: linear-gradient(90deg, var(--header-color), var(--accent-color)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; }
        .title-slide .subtitle { font-size: calc(2vw * var(--font-scale)); color: var(--text-color); opacity: 0.8; margin-bottom: 3vw; }
        .title-slide .author { font-size: calc(1.8vw * var(--font-scale)); margin-bottom: 0.5vw; }
        .title-slide .institution { font-size: calc(1.5vw * var(--font-scale)); margin-bottom: 0.5vw; }
        .title-slide .date { font-size: calc(1.3vw * var(--font-scale)); opacity: 0.6; }
        
        /* å¸ƒå±€ä¸ç»„ä»¶ (åº”ç”¨å­—ä½“ç¼©æ”¾) */
        .columns { display: flex; gap: 2vw; width: 100%; align-items: flex-start; }
        .column { flex: 1; min-width: 0; }
        .column-45 { flex: 0 0 45%; }
        .column-55 { flex: 0 0 55%; }
        figure { margin: 1vw 0; text-align: center; }
        img { max-width: 100%; max-height: 60vh; height: auto; border-radius: 8px; box-shadow: 0 4px 12px var(--shadow-color); }
        figcaption { margin-top: 0.8vw; font-size: calc(1.1vw * var(--font-scale)); color: var(--text-color); opacity: 0.7; font-style: italic; }
        img.clickable { cursor: zoom-in; transition: transform 0.3s, box-shadow 0.3s; }
        img.clickable:hover { transform: scale(1.02); box-shadow: 0 8px 20px var(--shadow-color); }
        pre { background: var(--code-bg); color: var(--code-color); padding: 1vw; margin: 1vw 0; border-radius: 6px; font-size: calc(1.1vw * var(--font-scale)); line-height: 1.6; overflow-x: auto; max-height: 45vh; }
        .note { padding: 1vw 1.2vw; margin-top: 1.5vw; border-radius: 8px; border-left: 4px solid var(--note-border); background: var(--note-bg); font-size: calc(1.3vw * var(--font-scale)); }
        table { width: 90%; margin: 1.5vw auto; border-collapse: collapse; font-size: calc(1.3vw * var(--font-scale)); box-shadow: 0 2px 8px var(--shadow-color); border-radius: 8px; overflow: hidden; }
        th, td { padding: 1vw; text-align: center; border-bottom: 1px solid var(--border-color); }
        th { background: var(--button-bg); color: var(--header-color); font-weight: 600; }
        tbody tr:nth-child(even) { background-color: var(--primary-bg); }
        tbody tr:hover { background: var(--button-hover-bg); transition: background 0.3s ease; }

        /* ==================== å›¾ç‰‡å…¨å±å±•ç¤º ==================== */
        #image-lightbox { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.9); display: none; align-items: center; justify-content: center; z-index: 2000; opacity: 0; transition: opacity 0.3s ease-in-out; padding: 20px; box-sizing: border-box; }
        #image-lightbox.visible { display: flex; opacity: 1; }
        #image-lightbox.fit-width { overflow-y: auto; align-items: flex-start; }
        #lightbox-img { max-width: 100%; max-height: 100%; object-fit: contain; box-shadow: 0 0 30px rgba(0,0,0,0.5); border-radius: 8px; }
        #image-lightbox.fit-width #lightbox-img { width: 100%; max-width: 100%; max-height: none; margin-top: 60px; margin-bottom: 20px; }
        .lightbox-close, .lightbox-toggle { position: absolute; top: 20px; color: white; background-color: rgba(30, 30, 30, 0.7); border: none; cursor: pointer; border-radius: 5px; padding: 8px 15px; font-family: sans-serif; transition: background-color 0.2s; z-index: 2001; }
        .lightbox-close:hover, .lightbox-toggle:hover { background-color: rgba(0, 0, 0, 0.9); }
        .lightbox-close { right: 20px; font-size: 30px; line-height: 1; padding: 5px 15px; }
        .lightbox-toggle { right: 85px; font-size: 16px; }

        /* ==================== æ§åˆ¶é¢æ¿ (åŠŸèƒ½å·²æ¢å¤) ==================== */
        #controls { position: fixed; bottom: 2vh; left: 50%; transform: translateX(-50%); background: var(--secondary-bg); backdrop-filter: blur(10px); padding: 1vh 2vh; border-radius: 50px; display: flex; align-items: center; gap: 1.5vh; z-index: 1000; box-shadow: 0 4px 20px var(--shadow-color); border: 1px solid var(--border-color); }
        #controls button { background: var(--button-bg); color: var(--text-color); border: none; padding: 0.8vh 1.2vh; border-radius: 8px; cursor: pointer; font-size: 1.8vh; transition: all 0.3s ease; display: flex; align-items: center; justify-content: center; min-width: 3.5vh; height: 3.5vh; }
        #controls button:hover { background: var(--button-hover-bg); transform: scale(1.1); }
        #slide-counter { font-size: 1.6vh; font-weight: 500; min-width: 8vh; text-align: center; }
        #progress-indicator { width: 20vh; height: 0.5vh; background: var(--button-bg); border-radius: 0.25vh; overflow: hidden; }
        #progress-bar { height: 100%; background: linear-gradient(90deg, var(--accent-color), var(--header-color)); transition: width 0.5s ease; }
        #theme-btn { position: relative; }
        .theme-menu { position: absolute; bottom: 100%; left: 50%; transform: translateX(-50%); background: var(--secondary-bg); border: 1px solid var(--border-color); border-radius: 8px; padding: 0.5vh; margin-bottom: 0.5vh; display: none; box-shadow: 0 4px 12px var(--shadow-color); z-index: 1001;}
        .theme-menu.show { display: block; }
        .theme-option { padding: 0.5vh 1vh; cursor: pointer; border-radius: 4px; font-size: 1.4vh; white-space: nowrap; }
        .theme-option:hover { background: var(--button-bg); }
    </style>
</head>

<body>
    <div id="presentation-container">
        
        <!-- Slide 1: Title -->
        <div class="slide active">
            <div class="slide-content title-slide">
                <h1>å·¥ä½œè¿›å±•æ±‡æŠ¥ä¸æ–‡çŒ®åˆ†äº«</h1>
                <p class="subtitle">2025å¹´ç§‹å­£å­¦æœŸ ç»„ä¼šå±•ç¤º</p>
                <p class="author"><strong>BY2405316 ä¸¥äº”é‡‘</strong></p>
                <p class="institution">åŒ—äº¬èˆªç©ºèˆªå¤©å¤§å­¦ èˆªç©ºç§‘å­¦ä¸å·¥ç¨‹å­¦é™¢</p>
                <p class="date" id="current-date"></p>
            </div>
        </div>

        <!-- Slide 2: Work Summary -->
        <div class="slide">
            <div class="slide-content">
                <h1>æœ¬å‘¨å·¥ä½œå†…å®¹æ±‡æŠ¥</h1>
                <ol style="list-style: none; padding-left: 0;">
                    <li>
                        <h3>é‡æ„ FOS å¼€æºé¡¹ç›®ä»£ç </h3>
                        <p>å°† FOS (Fast Optical Spectrum) é¡¹ç›®çš„æ ¸å¿ƒè®¡ç®—éƒ¨åˆ†è¿›è¡Œäº†é‡æ„ï¼Œè¿ç§»ä¸ºåŸºäºç°ä»£ GPU æ¶æ„çš„åŠ é€Ÿç‰ˆæœ¬ï¼Œä»¥æå‡è®¡ç®—æ•ˆç‡ã€‚</p>
                    </li>
                    <li>
                        <h3>XLB æ¡†æ¶ä»£ç è°ƒè¯•ä¸ä»¿çœŸ</h3>
                        <p>å¯¹ XLB (differentiable LBM library) è¿›è¡Œäº†ä»£ç è°ƒè¯•ï¼ŒæˆåŠŸä»¿çœŸäº†äºŒç»´é¡¶ç›–é©±åŠ¨æ–¹è…”ï¼ˆLid-driven cavityï¼‰é—®é¢˜ï¼Œå¹¶å¯¹ä¸åŒé›·è¯ºæ•°ä¸‹çš„æ¶¡ç»“æ„è¿›è¡Œäº†åˆæ­¥è§‚å¯Ÿä¸åˆ†æã€‚</p>
                    </li>
                </ol>
            </div>
        </div>

        <!-- Slide 3: Paper Intro -->
        <div class="slide">
            <div class="slide-content title-slide">
                <h2 style="font-size: 2.5vw; color: var(--header-color); border: none;">æ–‡çŒ®åˆ†äº«</h2>
                <h1 style="font-size: 3.5vw;">XLB: A differentiable massively parallel lattice Boltzmann library in Python</h1>
                <p class="author text-sm" style="margin-top: 2vw;">Mohammadmehdi Ataei, Hesam Salehipour</p>
                <p class="date text-sm">Autodesk Research, Toronto, Canada</p>
                <p class="date text-sm" style="font-style: italic;">Computer Physics Communications 300 (2024) 109187</p>
            </div>
        </div>

        <!-- Slide 4: Background -->
        <div class="slide">
            <div class="slide-content">
                <h1>ç ”ç©¶èƒŒæ™¯ä¸åŠ¨æœº</h1>
                <h3>æ ¸å¿ƒè¶‹åŠ¿</h3>
                <p>ä»¥ JAXã€PyTorch ä¸ºä»£è¡¨çš„<strong>å¯å¾®ç¼–ç¨‹ (Differentiable Programming)</strong> æ¡†æ¶æ­£ä»æœºå™¨å­¦ä¹ é¢†åŸŸæ‰©å±•åˆ°ç§‘å­¦è®¡ç®—ï¼Œä¸ºè§£å†³ä¼˜åŒ–ã€é€†é—®é¢˜å’Œç‰©ç†-æœºå™¨å­¦ä¹ èåˆæä¾›äº†å¼ºå¤§å·¥å…·ã€‚</p>
                <h3>ç°æœ‰LBMå·¥å…·çš„å±€é™æ€§</h3>
                <ul>
                    <li><strong>è¯­è¨€å£å’ï¼š</strong>ä¸»æµé«˜æ€§èƒ½LBMåº“ï¼ˆå¦‚ Palabos, OpenLBï¼‰å¤šä¸º C++ ç¼–å†™ï¼Œå­¦ä¹ æ›²çº¿é™¡å³­ï¼Œä¸åˆ©äºå¿«é€ŸåŸå‹è®¾è®¡å’Œç ”ç©¶ã€‚</li>
                    <li><strong>é›†æˆå›°éš¾ï¼š</strong>å°† C++ ä»£ç ä¸ Python ä¸»æµçš„æœºå™¨å­¦ä¹ ç”Ÿæ€ï¼ˆJAX, PyTorchï¼‰èåˆï¼Œå¼€å‘ç»Ÿä¸€çš„è®¡ç®—æ¨¡å‹éå¸¸å…·æœ‰æŒ‘æˆ˜æ€§ã€‚</li>
                    <li><strong>è®¸å¯é™åˆ¶ï¼š</strong>éƒ¨åˆ†åº“é‡‡ç”¨ GPL ç­‰å¼ºä¼ æŸ“æ€§è®¸å¯è¯ï¼Œé™åˆ¶äº†å…¶åœ¨å•†ä¸šåº”ç”¨ä¸­çš„ä½¿ç”¨ã€‚</li>
                </ul>
                <div class="note">
                    <strong>ç ”ç©¶åŠ¨æœºï¼š</strong> å¼€å‘ä¸€ä¸ªé›†<strong>æ˜“ç”¨æ€§ã€å¯æ‰©å±•æ€§ã€é«˜æ€§èƒ½ã€å¯å¾®æ€§</strong>äºä¸€ä½“çš„ Python LBM åº“ï¼Œå¼¥åˆä¼ ç»Ÿé«˜æ€§èƒ½è®¡ç®—ä¸ç°ä»£æœºå™¨å­¦ä¹ ç”Ÿæ€ä¹‹é—´çš„é¸¿æ²Ÿã€‚
                </div>
            </div>
        </div>
        
        <!-- Slide 5: What is XLB? -->
        <div class="slide">
            <div class="slide-content">
                <h1>XLB æ¡†æ¶ï¼šå››å¤§æ ¸å¿ƒç‰¹æ€§</h1>
                <div class="columns">
                    <div class="column">
                        <ol>
                            <li>
                                <strong>æ˜“ç”¨æ€§ (Accessibility)</strong><br>
                                åŸºäº Python å’Œ JAXï¼Œæä¾›ä¸ Numpy ç›¸ä¼¼çš„æ¥å£ï¼Œæå¤§é™ä½äº†ç”¨æˆ·ä¸Šæ‰‹é—¨æ§›ã€‚
                            </li>
                            <li>
                                <strong>å¯æ‰©å±•æ€§ (Extensibility)</strong><br>
                                é‡‡ç”¨é¢å‘å¯¹è±¡çš„ç¼–ç¨‹æ¨¡å‹ï¼Œç”¨æˆ·å¯ä»¥è½»æ¾æ·»åŠ æ–°çš„è¾¹ç•Œæ¡ä»¶ã€ç¢°æ’æ¨¡å‹æˆ–å¤šç‰©ç†åœºåŠŸèƒ½ã€‚
                            </li>
                             <li>
                                <strong>é«˜æ€§èƒ½ (High Performance)</strong><br>
                                åˆ©ç”¨ JAX çš„ JIT (Just-In-Time) ç¼–è¯‘ï¼Œå°† Python ä»£ç è½¬æ¢ä¸ºé«˜æ•ˆçš„æœºå™¨ç ï¼Œå¯åœ¨ CPU/GPU/TPU ä¸Šå¤§è§„æ¨¡å¹¶è¡Œï¼Œå®ç°æ¯ç§’åäº¿çº§çš„æ ¼å­æ›´æ–°ã€‚
                            </li>
                            <li>
                                <strong>å¯å¾®æ€§ (Differentiability)</strong><br>
                                ä¸ JAX çš„è‡ªåŠ¨å¾®åˆ†å’Œæœºå™¨å­¦ä¹ ç”Ÿæ€æ— ç¼é›†æˆï¼Œå¤©ç„¶é€‚ç”¨äºåŸºäºç‰©ç†çš„æœºå™¨å­¦ä¹ ã€ä¼˜åŒ–å’Œé€†é—®é¢˜æ±‚è§£ã€‚
                            </li>
                        </ol>
                    </div>
                    <div class="column">
                        <figure>
                            <img src="https://cdn.noedgeai.com/bo_d36mg6f7aajc738v30eg_2.jpg?x=892&y=469&w=753&h=384&r=0" alt="Sharding Strategy" class="clickable"/>
                            <figcaption>Fig. 2. XLB é‡‡ç”¨çš„æ•°ç»„åˆ†ç‰‡ç­–ç•¥ï¼Œå¯å°†è®¡ç®—è´Ÿè½½é«˜æ•ˆåˆ†é…åˆ°å¤šä¸ªè®¾å¤‡ã€‚</figcaption>
                        </figure>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 6: LBM Basics -->
        <div class="slide">
            <div class="slide-content">
                <h1>æ ¸å¿ƒæ–¹æ³•ï¼šæ ¼å­ç»å°”å…¹æ›¼æ–¹æ³• (LBM)</h1>
                <p>LBM é€šè¿‡æ±‚è§£ä¸€ç»„ç¦»æ•£çš„åˆ†å¸ƒå‡½æ•° $f_i(\mathbf{x}, t)$ çš„æ¼”åŒ–æ¥æ¨¡æ‹Ÿæµä½“ï¼Œå…¶æ ¸å¿ƒç®—æ³•åˆ†ä¸ºä¸¤æ­¥ï¼š</p>
                <p style="text-align: center; font-size: calc(1.8vw * var(--font-scale));">
                    <strong>ç¢°æ’ (Collision):</strong> $f_i^*(\mathbf{x}, t) = \mathcal{C}(f_i(\mathbf{x}, t))$<br>
                    <strong>è¿ç§» (Streaming):</strong> $f_i(\mathbf{x} + \Delta\mathbf{x}, t + \Delta t) = f_i^*(\mathbf{x}, t)$
                </p>
                <figure>
                    <img src="https://cdn.noedgeai.com/bo_d36mg6f7aajc738v30eg_2.jpg?x=325&y=143&w=1095&h=252&r=0" alt="Lattice Structures" class="clickable"/>
                    <figcaption>Fig. 1. XLB ä¸­æ”¯æŒçš„ D2Q9, D3Q19, D3Q27 æ ¼å­æ¨¡å‹ã€‚</figcaption>
                </figure>
                <p>å®è§‚ç‰©ç†é‡ï¼ˆå¯†åº¦ $\rho$, é€Ÿåº¦ $\mathbf{u}$ï¼‰å¯é€šè¿‡å¯¹åˆ†å¸ƒå‡½æ•°æ±‚çŸ©å¾—åˆ°ï¼Œä¾‹å¦‚ï¼š</p>
                <p style="text-align: center; font-size: calc(1.8vw * var(--font-scale));">
                    $\rho(\mathbf{x},t) = \sum_i f_i(\mathbf{x}, t)$ &nbsp;&nbsp;&nbsp;&nbsp;
                    $\mathbf{u}(\mathbf{x},t) = \frac{1}{\rho}\sum_i \mathbf{c}_i f_i(\mathbf{x}, t)$
                </p>
            </div>
        </div>

        <!-- Slide 7: Distributed Computing -->
        <div class="slide">
            <div class="slide-content">
                <h1>æ ¸å¿ƒå®ç°ï¼šåŸºäº JAX çš„åˆ†å¸ƒå¼è®¡ç®—</h1>
                <p>LBM ä¸­å”¯ä¸€çš„éå±€éƒ¨æ“ä½œæ˜¯<strong>è¿ç§» (Streaming)</strong>ï¼Œåœ¨å¤šè®¾å¤‡ä¸Šéœ€è¦ç‰¹åˆ«å¤„ç†é€šä¿¡ã€‚</p>
                <div class="columns">
                    <div class="column column-45">
                        <h3>é€šä¿¡ç­–ç•¥</h3>
                        <ul>
                            <li><strong>è®¾å¤‡å†…è¿ç§»:</strong> ä½¿ç”¨ `jnp.roll` é«˜æ•ˆåœ°åœ¨å•ä¸ªè®¾å¤‡å­åŸŸå†…ç§»åŠ¨æ•°æ®ï¼Œå®ç°å‘¨æœŸæ€§è¾¹ç•Œã€‚</li>
                            <li><strong>è·¨è®¾å¤‡é€šä¿¡:</strong>
                                <ul>
                                    <li>`jnp.roll` æ— æ³•è‡ªåŠ¨å¤„ç†è·¨è®¾å¤‡çš„æ•°æ®ç§»åŠ¨ã€‚</li>
                                    <li>XLB ä½¿ç”¨ JAX çš„ `lax.ppermute` å‡½æ•°åœ¨ç›¸é‚»è®¾å¤‡é—´æ˜¾å¼åœ°äº¤æ¢è¾¹ç•Œæ•°æ®ï¼ˆåˆ‡ç‰‡ï¼‰ã€‚</li>
                                    <li>è¿™ç§æ–¹æ³•é¿å…äº†ä¼ ç»Ÿæ–¹æ³•ä¸­è®¾ç½®â€œå¹½çµç»†èƒâ€(halo cells) çš„å¤æ‚æ€§ã€‚</li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                    <div class="column column-55">
                        <figure>
                            <img src="https://cdn.noedgeai.com/bo_d36mg6f7aajc738v30eg_4.jpg?x=383&y=134&w=985&h=1125&r=0" alt="Distributed Streaming" class="clickable"/>
                            <figcaption>Fig. 3. åˆ†å¸ƒå¼è®¡ç®—ä¸­çš„è¿ç§»æ“ä½œï¼Œå±•ç¤ºäº†è®¾å¤‡é—´çš„æ•°æ®é€šä¿¡ã€‚</figcaption>
                        </figure>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 8: Benchmark 1 -->
        <div class="slide">
            <div class="slide-content">
                <h1>åŸºå‡†æµ‹è¯• 1ï¼š2D æ³°å‹’-æ ¼æ—æ¶¡</h1>
                <p>è¯¥ç®—ä¾‹ç”¨äºéªŒè¯ XLB åœ¨å‘¨æœŸæ€§è¾¹ç•Œæ¡ä»¶ä¸‹çš„<strong>æ•°å€¼ç²¾åº¦å’Œæ”¶æ•›é˜¶</strong>ã€‚é€šè¿‡ä¸è§£æè§£å¯¹æ¯”ï¼Œè¯„ä¼°ä¸åŒç¢°æ’æ¨¡å‹å’Œè®¡ç®—ç²¾åº¦ä¸‹çš„è¯¯å·®ã€‚</p>
                <figure>
                    <img src="https://cdn.noedgeai.com/bo_d36mg6f7aajc738v30eg_6.jpg?x=308&y=139&w=1134&h=854&r=0" alt="Taylor-Green Vortex Results" class="clickable"/>
                    <figcaption>Fig. 5. é€Ÿåº¦åœº($\epsilon_u$)å’Œå¯†åº¦åœº($\epsilon_\rho$)çš„L2è¯¯å·®éšç½‘æ ¼åˆ†è¾¨ç‡Nçš„å˜åŒ–ã€‚</figcaption>
                </figure>
                <div class="note">
                    <strong>ç»“è®ºï¼š</strong> åœ¨åŒç²¾åº¦ (f64/f64) è®¡ç®—ä¸‹ï¼ŒBGK å’Œ KBC ç¢°æ’æ¨¡å‹å‡èƒ½è¾¾åˆ°é¢„æœŸçš„<strong>äºŒé˜¶æ”¶æ•›ç²¾åº¦</strong>ã€‚é™ä½å­˜å‚¨æˆ–è®¡ç®—ç²¾åº¦ä¼šå¯¼è‡´åœ¨é«˜åˆ†è¾¨ç‡ä¸‹è¯¯å·®ç´¯ç§¯ï¼Œç²¾åº¦ä¸‹é™ã€‚
                </div>
            </div>
        </div>
        
        <!-- Slide 9: Benchmark 2 -->
        <div class="slide">
            <div class="slide-content">
                <h1>åŸºå‡†æµ‹è¯• 2ï¼š3D é¡¶ç›–é©±åŠ¨æ–¹è…”æµ</h1>
                <p>è¯¥ç®—ä¾‹ç”¨äºéªŒè¯ XLB åœ¨å¤„ç†ç¨³æ€ã€éç¨³æ€å’Œæ¹æµé—®é¢˜ï¼ˆ$Re=1000, 3200, 10000$ï¼‰æ—¶çš„å¯é æ€§ï¼Œå°¤å…¶æ˜¯åœ¨å­˜åœ¨éå‘¨æœŸæ€§è¾¹ç•Œï¼ˆå›ºå£ï¼‰çš„æƒ…å†µä¸‹ã€‚</p>
                <figure>
                    <img src="https://cdn.noedgeai.com/bo_d36mg6f7aajc738v30eg_7.jpg?x=103&y=141&w=1543&h=523&r=0" alt="Lid-driven Cavity Results" class="clickable" style="max-height: 50vh;"/>
                    <figcaption>Fig. 6. ä¸åŒé›·è¯ºæ•°ä¸‹ï¼Œä¸­å¿ƒæˆªé¢é€Ÿåº¦åˆ†å¸ƒä¸æ–‡çŒ®å‚è€ƒæ•°æ®çš„å¯¹æ¯”ã€‚</figcaption>
                </figure>
                 <div class="note">
                    <strong>ç»“è®ºï¼š</strong> XLB çš„æ¨¡æ‹Ÿç»“æœä¸æ–‡çŒ®ä¸­çš„æ•°å€¼æ¨¡æ‹ŸåŠå®éªŒæ•°æ®ï¼ˆå½©è‰²åœ†ç‚¹ï¼‰<strong>é«˜åº¦å»åˆ</strong>ï¼Œè¯æ˜äº†å…¶åœ¨å¤šç§æµæ€ä¸‹çš„å‡†ç¡®æ€§ã€‚
                </div>
            </div>
        </div>
        
        <!-- Slide 10: Performance Scaling -->
        <div class="slide">
            <div class="slide-content">
                <h1>æ€§èƒ½æµ‹è¯•ï¼šå¤š GPU ä¸åˆ†å¸ƒå¼æ‰©å±•</h1>
                <p>åœ¨NVIDIA DGX A100èŠ‚ç‚¹ä¸Šè¯„ä¼° XLB çš„å¹¶è¡Œæ‰©å±•èƒ½åŠ›ã€‚</p>
                <div class="columns">
                    <div class="column">
                        <h3>å¼ºæ‰©å±• (Strong Scaling)</h3>
                        <p>å›ºå®šé—®é¢˜è§„æ¨¡ ($512^3$)ï¼Œå¢åŠ GPUæ•°é‡ã€‚åœ¨8å¡ä¸Šä»ä¿æŒè¿‘ <strong>90%</strong> çš„å¹¶è¡Œæ•ˆç‡ã€‚</p>
                         <figure>
                            <img src="https://cdn.noedgeai.com/bo_d36mg6f7aajc738v30eg_10.jpg?x=186&y=140&w=1379&h=684&r=0" alt="Strong Scaling" class="clickable" style="max-height: 40vh;"/>
                            <figcaption>Fig. 11. å•èŠ‚ç‚¹å¼ºæ‰©å±•æ€§èƒ½ã€‚</figcaption>
                        </figure>
                    </div>
                    <div class="column">
                        <h3>åˆ†å¸ƒå¼å¼±æ‰©å±•</h3>
                        <p>æ‰©å±•è‡³64ä¸ªèŠ‚ç‚¹ (<strong>512å—GPU</strong>)ï¼Œé—®é¢˜è§„æ¨¡æœ€å¤§è¾¾åˆ° $4096^3$ï¼ˆè¶…670äº¿ç½‘æ ¼ï¼‰ã€‚</p>
                        <figure>
                            <img src="https://cdn.noedgeai.com/bo_d36mg6f7aajc738v30eg_10.jpg?x=185&y=899&w=1380&h=680&r=0" alt="Distributed Scaling" class="clickable" style="max-height: 40vh;"/>
                            <figcaption>Fig. 12. åˆ†å¸ƒå¼å¼±æ‰©å±•æ€§èƒ½ã€‚</figcaption>
                        </figure>
                    </div>
                </div>
                <p class="text-center">åœ¨512å—GPUä¸Šï¼Œæ€§èƒ½è¾¾åˆ° <strong>220,332 MLUPS</strong> (æ¯ç§’ç™¾ä¸‡æ ¼å­æ›´æ–°)ã€‚å¤§è§„æ¨¡ä¸‹é€šä¿¡å¼€é”€æˆä¸ºç“¶é¢ˆã€‚</p>
            </div>
        </div>

        <!-- Slide 11: Application 1 -->
        <div class="slide">
            <div class="slide-content">
                <h1>åº”ç”¨ 1ï¼šåŸºäºæ·±åº¦å­¦ä¹ çš„ç²—ç½‘æ ¼ä»¿çœŸä¿®æ­£</h1>
                <p>å±•ç¤º XLB çš„å¯å¾®ç‰¹æ€§ã€‚è®­ç»ƒä¸€ä¸ªç¥ç»ç½‘ç»œä½œä¸º<strong>ä¿®æ­£åŠ›é¡¹</strong>ï¼Œæ·»åŠ åˆ°ä½åˆ†è¾¨ç‡çš„ç²—ç½‘æ ¼ä»¿çœŸä¸­ï¼Œä½¿å…¶ç»“æœé€¼è¿‘é«˜åˆ†è¾¨ç‡çš„å‚è€ƒè§£ã€‚</p>
                <figure>
                    <img src="https://cdn.noedgeai.com/bo_d36mg6f7aajc738v30eg_11.jpg?x=194&y=141&w=1359&h=567&r=0" alt="ML Corrector" class="clickable" style="max-height: 45vh;"/>
                    <figcaption>Fig. 13. æ·»åŠ (ä¸Šæ–¹)ä¸æœªæ·»åŠ (ä¸‹æ–¹)ä¿®æ­£å™¨æ—¶ï¼Œä»¿çœŸé€Ÿåº¦åœºè¯¯å·®éšæ—¶é—´çš„å˜åŒ–ã€‚</figcaption>
                </figure>
                <div class="note">
                    <strong>æ ¸å¿ƒæ€æƒ³ï¼š</strong>æŸå¤±å‡½æ•°å»ºç«‹åœ¨æœªæ¥å¤šä¸ªæ—¶é—´æ­¥çš„è¯¯å·®ä¹‹ä¸Šã€‚ç”±äºæ•´ä¸ª LBM æ±‚è§£è¿‡ç¨‹æ˜¯å¯å¾®çš„ï¼Œæ¢¯åº¦å¯ä»¥æ²¿æ—¶é—´åå‘ä¼ æ’­ï¼Œä½¿ç½‘ç»œå­¦ä¼šé¢„æµ‹å¹¶è¡¥å¿æœªæ¥è¯¯å·®ã€‚ç»“æœæ˜¾ç¤ºï¼Œä¿®æ­£å™¨æ˜¾è‘—é™ä½äº†ä»¿çœŸè¯¯å·®ã€‚
                </div>
            </div>
        </div>
        
        <!-- Slide 12: Application 2 -->
        <div class="slide">
            <div class="slide-content">
                <h1>åº”ç”¨ 2ï¼šåŸºäºå¯å¾®ä»¿çœŸçš„æµåœºæ§åˆ¶</h1>
                <p>æ±‚è§£ä¸€ä¸ª<strong>é€†é—®é¢˜</strong>ï¼šå¯»æ‰¾ä¸€ä¸ªåˆé€‚çš„åˆå§‹å¯†åº¦åœºï¼Œä½¿å…¶åœ¨ç»è¿‡200ä¸ªLBMæ—¶é—´æ­¥çš„éçº¿æ€§æ¼”åŒ–åï¼Œèƒ½å¤Ÿåœ¨æµåœºä¸­å½¢æˆä¸€ä¸ªé¢„è®¾çš„ "XLB" å­—æ¯å›¾æ¡ˆã€‚</p>
                 <figure>
                    <img src="https://cdn.noedgeai.com/bo_d36mg6f7aajc738v30eg_12.jpg?x=102&y=136&w=1551&h=460&r=0" alt="Flow Control" class="clickable" style="max-height: 40vh;"/>
                    <figcaption>Fig. 14. ä¼˜åŒ–å¾—åˆ°çš„åˆå§‹å¯†åº¦åœºï¼ˆå·¦ï¼‰ã€ç›®æ ‡å›¾æ¡ˆï¼ˆä¸­ï¼‰å’Œ200æ­¥åæœ€ç»ˆå½¢æˆçš„å¯†åº¦åœºï¼ˆå³ï¼‰ã€‚</figcaption>
                </figure>
                <div class="note">
                    <strong>æ ¸å¿ƒæ–¹æ³•ï¼š</strong>å°†æœ€ç»ˆå¯†åº¦åœºä¸ç›®æ ‡å›¾æ¡ˆçš„å·®å¼‚ä½œä¸ºæŸå¤±å‡½æ•°ï¼Œé€šè¿‡ XLB çš„è‡ªåŠ¨å¾®åˆ†åŠŸèƒ½åå‘ä¼ æ’­æ¢¯åº¦ï¼Œç›´æ¥ä¼˜åŒ–ç¥ç»ç½‘ç»œç”Ÿæˆçš„åˆå§‹æ¡ä»¶ã€‚è¿™å±•ç¤ºäº†å¯å¾®ä»¿çœŸåœ¨å¤æ‚æ§åˆ¶å’Œè®¾è®¡é—®é¢˜ä¸­çš„å·¨å¤§æ½œåŠ›ã€‚
                </div>
            </div>
        </div>

        <!-- Slide 13: Conclusion -->
        <div class="slide">
            <div class="slide-content">
                <h1>ç»“è®º</h1>
                <div class="columns">
                    <div class="column">
                        <h3>ä¸»è¦è´¡çŒ®</h3>
                        <ul>
                            <li><strong>é™ä½é—¨æ§›ï¼š</strong>æä¾›äº†ä¸€ä¸ªåŸºäº Python çš„é«˜æ€§èƒ½ã€å¯æ‰©å±•ã€ç”¨æˆ·å‹å¥½çš„ LBM åº“ã€‚</li>
                            <li><strong>è¿æ¥æœªæ¥ï¼š</strong>é€šè¿‡ JAX å®ç°äº†<strong>å®Œå…¨å¯å¾®</strong>ï¼Œæ— ç¼è¿æ¥äº†ä¼ ç»Ÿ CFD ä»¿çœŸä¸ç°ä»£æœºå™¨å­¦ä¹ å·¥ä½œæµã€‚</li>
                            <li><strong>æ€§èƒ½å“è¶Šï¼š</strong>å±•ç¤ºäº†åœ¨å¤š GPU å’Œå¤§è§„æ¨¡åˆ†å¸ƒå¼ç³»ç»Ÿä¸Šçš„é«˜æ•ˆæ‰©å±•èƒ½åŠ›ã€‚</li>
                        </ul>
                    </div>
                    <div class="column">
                        <h3>ä»·å€¼ä¸å±•æœ›</h3>
                        <ul>
                            <li>ä¸ºç‰©ç†-æœºå™¨å­¦ä¹ ã€æµä½“ä¼˜åŒ–ã€é€†é—®é¢˜ç­‰å‰æ²¿ç ”ç©¶æä¾›äº†å¼ºå¤§çš„å¼€æºå·¥å…·ã€‚</li>
                            <li>æœªæ¥è®¡åˆ’ï¼šæ”¯æŒè‡ªé€‚åº”ç½‘æ ¼ã€æ ¸å‡½æ•°åç«¯ï¼ˆå¦‚ Warpï¼‰ä»¥è¿½æ±‚æè‡´æ€§èƒ½ã€ä¼´éšæ³•ä¼˜åŒ–ç­‰ã€‚</li>
                        </ul>
                    </div>
                </div>
                <div class="note" style="text-align: center; margin-top: 2vw;">
                    <strong>å¼€æºé¡¹ç›®åœ°å€:</strong> <a href="https://github.com/Autodesk/XLB" target="_blank" rel="noopener noreferrer">github.com/Autodesk/XLB</a>
                </div>
            </div>
        </div>

        <!-- Slide 14: Q&A -->
        <div class="slide">
            <div class="slide-content title-slide">
                <h1>æ„Ÿè°¢è†å¬</h1>
                <p class="subtitle" style="margin-top: 3vw;">é—®ç­”ç¯èŠ‚ (Q&A)</p>
            </div>
        </div>
        
        <!-- Image Lightbox -->
        <div id="image-lightbox">
            <span class="lightbox-close" title="å…³é—­ (Esc)">Ã—</span>
            <button class="lightbox-toggle" title="åˆ‡æ¢è§†å›¾æ¨¡å¼"></button>
            <img src="" alt="å…¨å±è§†å›¾" id="lightbox-img">
        </div>

    </div>

    <!-- [æ¢å¤] å®Œæ•´çš„æ§åˆ¶é¢æ¿ -->
    <div id="controls">
        <button id="prev-btn" title="ä¸Šä¸€é¡µ (â†)">â—€</button>
        <button id="first-btn" title="ç¬¬ä¸€é¡µ (Home)">â®</button>
        <span id="slide-counter">1 / 14</span>
        <button id="last-btn" title="æœ€åä¸€é¡µ (End)">â­</button>
        <button id="next-btn" title="ä¸‹ä¸€é¡µ (â†’)">â–¶</button>
        <div id="progress-indicator"><div id="progress-bar"></div></div>
        <button id="goto-btn" title="è·³è½¬ (G)">ğŸ”¢</button>
        <button id="font-dec-btn" title="å‡å°å­—å·">A-</button>
        <button id="font-inc-btn" title="å¢å¤§å­—å·">A+</button>
        <button id="theme-btn" title="åˆ‡æ¢ä¸»é¢˜">ğŸ¨
            <div class="theme-menu" id="theme-menu">
                <div class="theme-option" data-theme="default">ä¸“ä¸šè“</div>
                <div class="theme-option" data-theme="dark">æ·±è‰²</div>
                <div class="theme-option" data-theme="green">æ¸…æ–°ç»¿</div>
                <div class="theme-option" data-theme="mint">è–„è·é’</div>
                <div class="theme-option" data-theme="indigo">é›è“</div>
            </div>
        </button>
        <button id="fullscreen-btn" title="å…¨å± (F)">â›¶</button>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // [æ¢å¤] åŠ¨æ€è®¾ç½®æ—¥æœŸ
            function setDynamicDate() {
                const dateElement = document.getElementById('current-date');
                if (dateElement) {
                    const today = new Date();
                    dateElement.textContent = `${today.getFullYear()}å¹´${today.getMonth() + 1}æœˆ${today.getDate()}æ—¥`;
                }
            }
            setDynamicDate();

            // [æ¢å¤] è·å–æ‰€æœ‰éœ€è¦çš„å…ƒç´ 
            const presentationContainer = document.getElementById('presentation-container');
            const slides = document.querySelectorAll('.slide');
            const totalSlides = slides.length;
            const controls = {
                prev: document.getElementById('prev-btn'),
                next: document.getElementById('next-btn'),
                first: document.getElementById('first-btn'),
                last: document.getElementById('last-btn'),
                goto: document.getElementById('goto-btn'),
                fontDec: document.getElementById('font-dec-btn'),
                fontInc: document.getElementById('font-inc-btn'),
                theme: document.getElementById('theme-btn'),
                themeMenu: document.getElementById('theme-menu'),
                fullscreen: document.getElementById('fullscreen-btn'),
                counter: document.getElementById('slide-counter'),
                progressBar: document.getElementById('progress-bar')
            };

            let currentSlide = 0;
            let fontScale = 1.0;

            // [æ¢å¤] å­—ä½“ç¼©æ”¾åŠŸèƒ½
            function updateFontScale() {
                presentationContainer.style.setProperty('--font-scale', fontScale);
            }
            controls.fontInc.addEventListener('click', () => {
                fontScale = Math.min(1.5, fontScale + 0.1);
                updateFontScale();
            });
            controls.fontDec.addEventListener('click', () => {
                fontScale = Math.max(0.7, fontScale - 0.1);
                updateFontScale();
            });

            // [æ¢å¤] ä¸»é¢˜åˆ‡æ¢åŠŸèƒ½
            function setTheme(theme) {
                document.documentElement.setAttribute('data-theme', theme);
                localStorage.setItem('presentation-theme', theme);
                controls.themeMenu.classList.remove('show');
            }
            controls.theme.addEventListener('click', (e) => { e.stopPropagation(); controls.themeMenu.classList.toggle('show'); });
            document.addEventListener('click', () => controls.themeMenu.classList.remove('show'));
            document.querySelectorAll('.theme-option').forEach(option => {
                option.addEventListener('click', (e) => { e.stopPropagation(); setTheme(option.dataset.theme); });
            });

            // [æ¢å¤] å…¨å±åŠŸèƒ½
            function toggleFullscreen() {
                if (!document.fullscreenElement) {
                    presentationContainer.requestFullscreen().catch(err => console.error(`Fullscreen error: ${err.message}`));
                } else {
                    document.exitFullscreen();
                }
            }
            controls.fullscreen.addEventListener('click', toggleFullscreen);

            // å¹»ç¯ç‰‡å¯¼èˆª
            function showSlide(index) {
                if (index < 0 || index >= totalSlides) return;
                slides.forEach((s, i) => s.classList.toggle('active', i === index));
                currentSlide = index;
                controls.counter.textContent = `${currentSlide + 1} / ${totalSlides}`;
                controls.progressBar.style.width = `${((currentSlide + 1) / totalSlides) * 100}%`;
                if (window.MathJax && window.MathJax.typeset) {
                    MathJax.typesetPromise([slides[index]]).catch(err => console.error('MathJax error:', err));
                }
            }
            
            const slideActions = {
                next: () => showSlide(currentSlide + 1),
                prev: () => showSlide(currentSlide - 1),
                first: () => showSlide(0),
                last: () => showSlide(totalSlides - 1),
                goto: () => {
                    const numStr = prompt(`è·³è½¬åˆ°ç¬¬å‡ é¡µ? (1-${totalSlides})`);
                    if (numStr) {
                        const num = parseInt(numStr, 10) - 1;
                        if (!isNaN(num) && num >= 0 && num < totalSlides) showSlide(num);
                    }
                }
            };
            controls.next.addEventListener('click', slideActions.next);
            controls.prev.addEventListener('click', slideActions.prev);
            controls.first.addEventListener('click', slideActions.first);
            controls.last.addEventListener('click', slideActions.last);
            controls.goto.addEventListener('click', slideActions.goto);

            // å›¾ç‰‡ç¯ç®±åŠŸèƒ½
            const lightbox = document.getElementById('image-lightbox');
            const lightboxImg = document.getElementById('lightbox-img');
            const lightboxClose = lightbox.querySelector('.lightbox-close');
            const lightboxToggle = lightbox.querySelector('.lightbox-toggle');
            function openLightbox(src) {
                lightboxImg.src = src;
                lightbox.classList.remove('fit-width');
                lightboxToggle.textContent = 'â¤¢ é€‚åº”å®½åº¦';
                lightbox.classList.add('visible');
            }
            function closeLightbox() { lightbox.classList.remove('visible'); }
            document.querySelectorAll('img.clickable').forEach(img => img.addEventListener('click', (e) => { e.stopPropagation(); openLightbox(img.src); }));
            lightboxClose.addEventListener('click', closeLightbox);
            lightbox.addEventListener('click', (e) => (e.target === lightbox) && closeLightbox());
            lightboxToggle.addEventListener('click', () => {
                const isFitWidth = lightbox.classList.toggle('fit-width');
                lightboxToggle.textContent = isFitWidth ? 'â†” é€‚åº”å±å¹•' : 'â¤¢ é€‚åº”å®½åº¦';
            });

            // [æ¢å¤] å®Œæ•´çš„é”®ç›˜äº‹ä»¶ç›‘å¬
            document.addEventListener('keydown', (e) => {
                if (lightbox.classList.contains('visible')) {
                    if (e.key === 'Escape') closeLightbox();
                    return;
                }
                switch(e.key) {
                    case 'ArrowRight': case ' ': e.preventDefault(); slideActions.next(); break;
                    case 'ArrowLeft': e.preventDefault(); slideActions.prev(); break;
                    case 'Home': e.preventDefault(); slideActions.first(); break;
                    case 'End': e.preventDefault(); slideActions.last(); break;
                    case 'f': case 'F': e.preventDefault(); toggleFullscreen(); break;
                    case 'g': case 'G': e.preventDefault(); slideActions.goto(); break;
                    case 'Escape': if (document.fullscreenElement) document.exitFullscreen(); break;
                }
                if ((e.ctrlKey || e.metaKey) && (e.key === '=' || e.key === '+')) {
                    e.preventDefault();
                    controls.fontInc.click();
                }
                if ((e.ctrlKey || e.metaKey) && e.key === '-') {
                    e.preventDefault();
                    controls.fontDec.click();
                }
            });
            
            // åˆå§‹åŒ–
            const savedTheme = localStorage.getItem('presentation-theme') || 'default';
            setTheme(savedTheme);
            showSlide(0);
        });
    </script>
</body>
</html>